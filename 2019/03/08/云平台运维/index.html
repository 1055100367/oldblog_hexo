<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="柚木舟,zhboat@163.com"><title>云平台运维 · 随记</title><meta name="description" content="题库记录


任务一、IaaS云平台搭建

基础环境

使用命令行方式设置主机名，防火墙以及SELinux设置如下：

设置控制节点主机名controller；计算节点主机名：compute。

各个节点关闭防火墙，设置开机不启动。

设置各个节点selinux状态为permissive。
host"><meta name="keywords" content="Hexo,HTML,Android,Linux"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title><a href="/">随记</a></h3><div class="description"><p>一个闲暇无事做记录的博客</p></div></div></div><ul class="social-links"><li><a href="https://twitter.com/MjVaNqi0y6IkYjx"><i class="fa fa-twitter"></i></a></li><li><a href="http://weibo.com/6116597460"><i class="fa fa-weibo"></i></a></li><li><a href="http://github.com/zhboat"><i class="fa fa-github"></i></a></li></ul><div class="footer"><!--a(target="_blank", href="/")//span Theme by --><!--a(href="https://www.caicai.me")  CaiCai --><!--span &--><!--a(href="https://github.com/Ben02/hexo-theme-Anatole")  Ben--><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Power by Hexo &#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li></div><!--li// if is_current('links')
  // a.current(href="/links")= __('Links')					
 //else
   //a(href="/links")= __('Links')		--><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/favicon.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>云平台运维</a></h3></div><div class="post-content"><center><h1>题库记录</h1></center>

<hr>
<p><strong>任务一、IaaS云平台搭建</strong></p>
<ol>
<li><p><strong>基础环境</strong></p>
<ul>
<li><p>使用命令行方式设置主机名，防火墙以及SELinux设置如下：</p>
<ul>
<li><p>设置控制节点主机名controller；计算节点主机名：compute。</p>
</li>
<li><p>各个节点关闭防火墙，设置开机不启动。</p>
</li>
<li><p>设置各个节点selinux状态为permissive。</p>
<p><code>hostnamectl set-hostname controller</code>设置控制节点主机名</p>
<p><code>hostnamectl set-hostname compute</code>设置计算节点主机名</p>
<p><code>systemctl stop firewalld</code>关闭controller/compute防火墙服务</p>
<p><code>systemctl disable firewalld</code>设置controller/compute防火墙服务开机不自启</p>
<p><code>setenforce 0</code>临时关闭SeLinux防火墙</p>
</li>
</ul>
</li>
<li><p>使用hostname命令查询控制/计算节点的主机名,以文本形式依次将查询命令及对应结果提交到答题框。</p>
<p>​    <code>hostname</code>查看controller/compute主机名</p>
</li>
<li><p>使用getenforce命令查询控制/计算节点selinux的状态,以文本形式依次将查询命令及对应结果提交到答题框。</p>
<p>​    <code>getenforce</code>查看controller/compute的SeLinux状态</p>
</li>
<li><p>在控制节点上通过SecureFX上传两个镜像文件CentOS-7-x86_64-DVD-1511.iso, XianDian-IaaS-v2.2.iso到opt下，通过命令行展开仅使用一条命令按先后顺序同时创建/opt下两个目录centos和iaas,并将以上镜像文件分别挂载到上述两个目录下，并使用df命令查看挂载的情况（需显示挂载的文件系统类型和具体的大小）在答题框依次提交上述的命令以及执行结果。</p>
<p>​    <code>df -Th</code>查看挂载情况</p>
</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14k6m2ehxj30sg0jw120.jpg" alt></p>
<ul>
<li><p>配置控制节点本地yum源文件local.repo ，搭建ftp服务器指向存放yum源路径；配置计算节点yum源文件ftp.repo使用之前配置的控制节点ftp作为yum源，其中的两个节点的地址使用主机名表示。使用cat命令查看上述控制/计算节点的yum源全路径配置文件。以文本形式提交查询命令及结果到答题框。</p>
<p>​    <code>cat /etc/yum.repos.d/a.repo</code>查看controller/compute的yum配置文件</p>
</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14ka4c7t8j30sg0jwqcd.jpg" alt></p>
<ul>
<li><p>在控制节点和计算节点分别安装iaas-xiandian软件包，完成配置文件中基本变量的配置，并根据提供的参数完成指定变量的配置，以文本形式提交配置文件内容到答题框中。</p>
<p><code>cat /etc/xiandian/openrc.sh |grep -v ^# |grep -v ^$</code>查看openrc.sh环境变量文件,过滤以#开头,过滤空行</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14kp7b4paj30sg0jwn77.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="2">
<li><p><strong>Mysql搭建：</strong></p>
<ul>
<li><p>根据平台安装步骤安装至数据库服务，使用一条命令安装提供的iaas-install-mysql.sh脚本并查看脚本运行的时间，把命令和最后输出的时间信息提交到答题框。</p>
<p><code>time iaas-install-mysql.sh</code>查看脚本运行时间</p>
</li>
<li><p>使用root用户登录数据库，查询数据库列表信息，并提交操作命令和输出结果以文本形式提交到答题框。</p>
<p><code>mysql -uroot -p000000</code>使用root身份登录mysql，密码为000000</p>
<p><code>show databases;</code>查看所有数据库</p>
</li>
<li><p>使用root用户登录数据库，使用mysql数据库，查询所有表的信息，并提交操作命令和输出结果以文本形式提交到答题框。</p>
<p><code>mysql -uroot -p000000</code>使用root身份登录mysql，密码为000000</p>
<p><code>use mysql;</code>使用mysql库</p>
<p><code>show tables;</code>查看mysql库中的所有表</p>
</li>
<li><p>使用root用户登录数据库，使用mysql数据库，查询所有表的信息，并查询表user中的host，user，paassword信息，提交操作命令和输出结果以文本形式提交到答题框。</p>
<p><code>mysql -uroot -p000000</code>使用root身份登录mysql，密码为000000</p>
<p><code>use mysql;</code>使用mysql库</p>
<p><code>show tables;</code>查看mysql库中的所有表</p>
<p><code>select host,user,password from user;</code>查询user表中host，user，password的数据</p>
<hr>
</li>
</ul>
</li>
<li><p><strong>Keystone搭建：</strong></p>
<ul>
<li><p>按要求安装完keystone脚本后，在数据库中查询keystone用户的远程访问权限信息。</p>
<p><code>mysql -uroot -p000000</code>使用root身份登录mysql，密码为000000</p>
<p><code>use keystone;</code>使用keystone库</p>
<p><code>show grants for &#39;keystone&#39;@&#39;%&#39;;</code> 查询keystone用户所有远程</p>
<p>(show grants 查看权限)</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.32.50.png" alt="屏幕快照 2019-03-06 下午7.32.50"></p>
</li>
<li><p>列出数据库keystone中所有的表。</p>
<p><code>use keystone;</code>使用keystone库</p>
<p><code>show tables;</code>查看keystone库中所有表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.34.08.png" alt="屏幕快照 2019-03-06 下午7.34.08"></p>
</li>
<li><p>使用openstack 相关命令，查询角色列表信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>source /etc/xiandian/openrc.sh</code></p>
<p><code>source /etc/keystone/admin-openrc.sh</code> </p>
<p><code>openstack role list</code>查看角色列表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.39.21.png" alt="屏幕快照 2019-03-06 下午7.39.21"></p>
</li>
<li><p>使用openstack 相关命令，查询admin项目信息，将操作命令和输出结果以文本形式提交到答题框。</p>
<p><code>openstack project list</code>查看项目信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.41.05.png" alt="屏幕快照 2019-03-06 下午7.41.05"></p>
</li>
<li><p>使用openstack 相关命令，查询用户列表信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>openstack user list</code>查看用户信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.41.42.png" alt="屏幕快照 2019-03-06 下午7.41.42"></p>
</li>
<li><p>使用openstack 相关命令，查询admin用户详细信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>openstack user show admin</code>查看admin用户信息</p>
</li>
<li><p>使用openstack 相关命令，查询服务列表信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>openstack service list</code>查看服务信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.42.31.png" alt="屏幕快照 2019-03-06 下午7.42.31"></p>
</li>
<li><p>使用一条命令将keystone的数据库导出为当前路径下的keystone.sql文件，并使用命令查询文件keystone.sql的大小，将导出命令及查询结果以文本形式填入答题框。</p>
<p><code>mysqldump -uroot -p000000 keystone &gt; keystone.sql</code>讲keystone数据库导出到当前目录，并命令为keystone.sql</p>
<p><code>du -h kestone.sql</code> 查看当前目录keystone.sql文件大小</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.44.09.png" alt="屏幕快照 2019-03-06 下午7.44.09"></p>
<hr>
</li>
</ul>
</li>
<li><p><strong>Glance搭建</strong></p>
<ul>
<li><p>根据平台安装步骤安装至镜像服务，在控制节点使用提供的脚本iaas-install-glance.sh安装glance组件。<br>使用镜像文件CentOS_7.2_x86_64_XD.qcow2创建glance镜像名为CentOS7.2，格式为qcow2，将上传命令和执行结果提交到答题框。</p>
<p><code>glance image-create --name &quot;CentOS&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repoimages/CentOS_7.2_x86_64_XD.qcow2</code>上传镜像</p>
<ul>
<li>image-create //创建镜像 –name “xx” 名字为xx</li>
<li>disk-format //镜像格式</li>
<li>container-format //容器格式 默认为bare</li>
<li>progress //显示上传进度</li>
</ul>
</li>
<li><p>使用glance 相关命令查询glance镜像列表，并查询CentOS7.2镜像的详细信息，将操作命令和执行结果提交到答题框。</p>
<p><code>glance image-list</code>查询glance镜像</p>
<p><code>glance image-show a11e6359-35f9-4e3d-85a8-d036b48fa6a0</code>查询镜像详细信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.48.16.png" alt="屏幕快照 2019-03-06 下午7.48.16"></p>
</li>
<li><p>使用systemctl 相关命令，在一条命令中查询glance组件中所有服务的状态信息，查询命令连同命令的执行结果提交到答题框。</p>
<p><code>systemctl status openstack-glance*</code>查询关于OpenStack-glance相关的所有服务状态</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.49.18.png" alt="屏幕快照 2019-03-06 下午7.49.18"></p>
<hr>
</li>
</ul>
</li>
<li><p><strong>Nova搭建</strong></p>
<ul>
<li><p>使用nova相关命令查询计算节点虚拟机监控器的状态，将命令和结果以文本形式提交到答题框。</p>
<p><code>nova hypervisor-stats</code>查询监控器状态</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.55.46.png" alt="屏幕快照 2019-03-06 下午7.55.46"></p>
</li>
<li><p>使用nova相关命令查询nova服务状态列表，以文本形式提交查询命令和结果到答题框。</p>
<p><code>nova service-list</code>查询服务列表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-06 下午7.57.00.png" alt="屏幕快照 2019-03-06 下午7.57.00"></p>
</li>
<li><p>使用nova相关命令查询网络的列表信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>nova tenant-network-list</code>查询云平台网络状态</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-07 上午10.27.49.png" alt="屏幕快照 2019-03-07 上午10.27.49"></p>
</li>
<li><p>使用nova相关命令查询nova资源使用情况的信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>nova usage-list</code>查询云平台资源使用情况</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-07 上午10.31.23.png" alt="屏幕快照 2019-03-07 上午10.31.23"></p>
<hr>
</li>
</ul>
</li>
<li><p><strong>Neutron搭建</strong></p>
<ul>
<li><p>使用neutron相关命令查询网络服务的列表信息，并已下图的形式打印出来，将相应的查询命令以及反馈结果以文本形式提交到答题框。</p>
<p><img src="/images/ScreenShot/图片2.png" alt="图片2"></p>
<p><code>neutron agent-list -c binary -c agent_type -c alive</code>查询网络服务列表中的binary,agent_type,alive信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午4.45.12.png" alt="屏幕快照 2019-03-08 下午4.45.12"></p>
</li>
<li><p>使用neutron相关命令查询网络服务的列表信息中的“binary”一列，将查询信息以文本形式提交到答题框。</p>
<p><code>neutron agent-list -c binary</code> 查询网络服务列表中binary信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.10.16.png" alt="屏幕快照 2019-03-08 下午2.10.16"></p>
</li>
<li><p>使用neutron相关命令查询网络服务DHCP agent的详细信息，将相应的查询命令以及反馈结果以文本形式提交到答题框。</p>
<p><code>neutron agent-list</code>查询网络服务详细信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.13.44.png" alt="屏幕快照 2019-03-08 下午2.13.44"></p>
<p><code>neutron agent-show 457e60ff-a312-49ae-b830-0ecb3cd7e9bc</code> 查询DHCP agent详细信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.20.07.png" alt="屏幕快照 2019-03-08 下午2.20.07"></p>
</li>
<li><p>使用ovs-vswitchd管理工具的相关命令查询计算节点的网桥列表信息，将查询命令及反馈信息以文本形式提交到答题框。</p>
<p><code>ovs-vsctl list bridge</code>查看计算节点网桥信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.21.14.png" alt="屏幕快照 2019-03-08 下午2.21.14"></p>
<p><code>ovs-vsctl list-br</code>查看网桥列表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.22.41.png" alt="屏幕快照 2019-03-08 下午2.22.41"></p>
</li>
<li><p>使用ovs-vswitchd管理工具的相关命令查询控制节点的网桥br-ex的端口列表信息，将查询命令及反馈信息以文本形式提交到答题框。</p>
<p><code>ovs-vsctl list-ports br-ex</code>查询控制节点的网桥br-ex的端口列表信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.23.49.png" alt="屏幕快照 2019-03-08 下午2.23.49"></p>
</li>
<li><p>使用neutron相关命令查询所创建路由器的详细信息，将查询命令和结果以文本形式提交到答题框。</p>
<p><code>neutron router-list</code>查询路由</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.26.03.png" alt="屏幕快照 2019-03-08 下午2.26.03"></p>
<p><code>neutron router-show 10f9a27b-f8d4-4bf3-b22d-9c9c0f44815a</code>查询路由详情</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午2.59.03.png" alt="屏幕快照 2019-03-08 下午2.59.03"></p>
</li>
<li><p>使用neutron相关命令查询所创建子网的列表信息，并查看内网子网的详细信息，将查询命令和结果以文本形式提交到答题框。</p>
<p><code>neutron subnet-list</code>查询子网列表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午3.01.13.png" alt="屏幕快照 2019-03-08 下午3.01.13"></p>
<p><code>neutron subnet-show cb62dada-97c0-4ce9-891d-aa7342f0cb55</code>查询内网详情</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午3.02.55.png" alt="屏幕快照 2019-03-08 下午3.02.55"></p>
</li>
<li><p>使用neutron相关命令查询所创建网络的列表信息，将查询命令和结果以文本形式提交到答题框。</p>
<p><code>neutron net-list</code>查看网络列表</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-08 下午3.05.19.png" alt="屏幕快照 2019-03-08 下午3.05.19"></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="7">
<li><p><strong>Heat搭建</strong></p>
<ul>
<li><p>使用脚本安装Heat</p>
<p><code>iaas-install-heat.sh</code>安装heat服务</p>
</li>
<li><p>使用heat相关命令，查询stack列表，在答题框中以文本形式填入查询命令及相应的反馈信息。</p>
<p><code>heat stack-list</code> 查询stack列表,没有是正常现象</p>
</li>
<li><p>从考试系统附件下载server.yml文件，通过命令行使用server.yml文件创建栈mystack，指定配置参数为镜像CentOS7.2、网络int-net2，在答题框中以文本形式填入查询命令及相应的反馈信息。</p>
<p><a href="https://pan.baidu.com/s/1wErdfGZ2ZcqB_k2JPnluaw" target="_blank" rel="noopener">server.yml</a></p>
<p><code>heat stack-create -f server.yml -P &quot;image_name=CentOS7.2;net-name=int-net2&quot; mystack</code>创建stack栈,<em>镜像为云平台镜像名,网络为云平台内网网卡名,根据server.yml来修改image_name,net-name参数,例如我的server.yml为ImageID和NetID,我的镜像名为CentOS7,内网为int</em>.则命令为<code>heat stack-create -f server.yml -P &quot;ImageID=CentOS7;NetID=int&quot; mystack</code></p>
<p><code>heat stack-show mystack</code>查看mystack栈详情</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-09 下午12.40.08.png" alt="屏幕快照 2019-03-09 下午12.40.08"></p>
</li>
<li><p>查询栈mystack状态为CREATE_COMPLETE的事件详细信息，在答题框中以文本形式填入查询命令及相应的反馈信息。</p>
<p><code>heat event-list mystack</code>查看mystack栈状态</p>
<p><code>heat event-show mystack mystack 4652fa52-275c-4edb-bb7e-d50040966c26</code>查看mystack栈状态为CREATE_COMPLETE的事件详细信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-09 下午1.38.46.png" alt="屏幕快照 2019-03-09 下午1.38.46"></p>
</li>
<li><p>查询栈mystack的事件列表信息，在答题框中以文本形式填入查询命令及相应的反馈信息。</p>
<p><code>heat stack-list</code>查询stack列表</p>
<p><code>heat event-list mystack</code>查看mystack栈状态</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-09 下午1.49.59.png" alt="屏幕快照 2019-03-09 下午1.49.59"></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="8">
<li><p><strong>Trove搭建</strong></p>
<ul>
<li><p>在控制节点配置提供的脚本iaas-install-trove.sh，使其连接的网络为int-net1，安装数据库trove服务，完成trove服务在控制节点的安装。完成后查询所有的数据库实例列表。将以上操作命令及检查结果填入答题框。 </p>
<p><code>iaas-install-cinder-controller.sh</code>安装cinder服务</p>
<p><code>iaas-install-swift-controller.sh</code>安装swift服务</p>
<p><code>iaa-install-trove.sh</code>安装trove服务</p>
</li>
<li><p>在控制节点上传提供的MySQL_5.6_XD.qcow2到系统内，并创建mysql的数据库存储类型，使用上传的镜像更新该数据库类型的版本信息和镜像信息，将以上操作命令及结果填入答题框。</p>
<p><strong>以下命令在/usr/local/bin/iaas-install-trove.sh最后七行有</strong></p>
<p><code>glance image-create --name &quot;mysql-5.6&quot; --disk-format qcow2  --container-format bare --progress &lt;  /opt/iaas-repo/images/MySQL_5.6_XD.qcow2</code>上传MySql镜像</p>
<p><code>trove-manage datastore_update mysql &#39;&#39;</code>更新数据库存储类型</p>
<p><code>Glance_Image_ID=$(glance image-list | awk &#39;/ mysql-5.6 / { print $2 }&#39;) &amp;&amp; trove-manage datastore_version_update mysql mysql-5.6 mysql ${Glance_Image_ID} &#39;&#39; 1</code>截取mysql镜像ID并定义变量,更新版本信息及镜像信息</p>
<p><code>trove list</code>查看列表</p>
</li>
<li><p>在控制节点查创建名称为mysql-1，大小为5G，数据库名称为myDB、远程连接用户为user,密码为r00tme，类型为m1.small完成后查询trove列表信息，并查询mysql-1的详细信息，将以上操作命令及结果填入答题框。</p>
<p><code>FLAVOR_ID=$(openstack flavor list | awk &#39;/ m1.small / { print $2 }&#39;) &amp;&amp; trove create mysql-1  ${FLAVOR_ID} --size 5 --databases myDB --users user:r00tme --datastore_version mysql-5.6 --datastore mysql</code>截取云主机类型ID并定义变量,更新镜像信息</p>
<p><img src="/images/ScreenShot/屏幕快照 2019-03-11 下午2.48.33.png" alt="屏幕快照 2019-03-11 下午2.48.33"></p>
<p><code>trove show mysql-1</code>查询mysql-1的详细信息</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14jjferbrj30ru0j7wmw.jpg" alt></p>
</li>
<li><p>在控制节点查询所有数据的版本信息，完成后查询mysql数据库的详细信息，将以上操作命令及结果填入答题框。</p>
<p><code>trove datastore-list</code>查询mysql详细信息</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14jlmupj3j30ru0j711r.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<p><strong>任务二、IaaS云平台运维</strong></p>
<ol>
<li><p><strong>Rabbitmq简单题</strong></p>
<ul>
<li><p>按以下配置在云平台中创建云主机，完成本任务下的相关试题后关闭云主机。</p>
<p>云主机： </p>
<ul>
<li><p>名称：IaaS</p>
</li>
<li><p>镜像文件：Xiandian-IaaS-All.qcow2</p>
</li>
<li><p>云主机类型：4cpu、8G内存、100G硬盘</p>
</li>
<li><p>网络：网络1：int-net1，绑定浮动IP</p>
<ul>
<li>网络2：int-net2</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>​    <strong>注：该镜像已安装IaaS平台所有可能使用的组件，用于完成IaaS平台相关运维操作题，必须按以上配置信息配置接入两个网络才能保证云主机运行正常。</strong></p>
<p>​    <strong>Tip</strong>:<a href="https://pan.baidu.com/s/1oakq_dVTrP4nrg4jke3IOA" target="_blank" rel="noopener">iaas.qcow2镜像</a> 提取码: ncu4</p>
<p>​    <code>glance image-create --name &quot;iaas&quot; --disk-format qcow2 --container-format bare --progress &lt; iaas.qocw2</code>上传iaas.qcow2 镜像到云平台</p>
<p>​    使用该镜像创建iaas云主机完成以下题目</p>
<p>​    根据题目要求，连接相应的云主机或各节点服务器，进行以下答题。 </p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g14tv58sr0j30ue0k6gol.jpg" alt></p>
<ul>
<li><p>使用rabbitmqctl创建用户xiandian-admin，密码为admin。将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。</p>
<p><code>rabbitmqctl add_user xiandian-admin admin</code>创建用户xiandian-admin,密码为admin</p>
</li>
<li><p>使用rabbitmqctl命令查询所有用户列表，将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。</p>
<p><code>rabbitmqctl list_users</code>查询所有用户列表</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14um788owj30pc0gsq9g.jpg" alt></p>
</li>
<li><p>使用命令对xiandian-admin用户进行授权，对本机所有资源可写可读权限。</p>
<p><code>rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</code>给xiandian-admin用户对本机所有资源的读写授权</p>
</li>
<li><p>使用rabbitmqctl命令查询集群状态，将操作命令及对应的反馈结果以文本形式提交到答题框中。</p>
<p><code>rabbitmqctl cluster status</code>查询集群状态</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14undy4tgj30pc0gs0zc.jpg" alt></p>
</li>
</ul>
<hr>
</li>
<li><p>Rabbitmq困难题**</p>
<ul>
<li><p>使用命令给xiandian-admin用户创建administrator角色，并查询，将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。</p>
<p><code>rabbitmqctl set_user_tags xiandian-admin amdinistrator</code>设置xiandian-admin用户为administrator</p>
<p><code>rabbitmqctl list_users</code>查询所有用户</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14uvdk7gcj30pc0gstex.jpg" alt></p>
</li>
<li><p>使用命令对用户xiandian-admin进行授权，对本机所有资源可写可读权限，然后查询xiandian-admin用户的授权信息，将操作命令及对应的反馈结果以文本形式提交到答题框中。</p>
<p><code>rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;</code>给xiandian-admin用户对本机所有资源的读写授权</p>
<p><code>rabbitmqctl list_user_permissions xiandian-admin</code>查询xiandian-admin用户的权限</p>
</li>
<li><p>使用rabbitmqctl命令，查看队列信息，所包含的信息包括name，arguments，messages，memory。</p>
<p><code>rabbitmqctl list_queues name arguments messages memory</code></p>
</li>
<li><p>通过修改配置文件的方式使memcache的缓存有64MB变为256MB，使用ps相关命令查询memcahce(笨比题目…..)进程的信息，将修改的配置文件全路径文件名、修改的参数以及相应的参数值、查询到的memcache进程信息以文本形式提交到答题框中。</p>
<p><code>ps aux |grep memcache</code>查看没修改前的进程信息</p>
<p><code>sed &#39;s/64/256/g&#39; /etc/sysconfig/memcached -i</code> 修改缓存为256</p>
<p><code>cat /etc/sysconfig/memcache</code></p>
<p><code>ps aux |grep memcache</code>查看修改后的进程信息</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g16ywdf5dij310x08gq8w.jpg" alt></p>
</li>
</ul>
<hr>
</li>
<li><p><strong>Mysql简单题</strong></p>
<ul>
<li><p>使用数据库的相关命令查询数据库的编码方式，将查询结果以文本形式提交到答题框中。</p>
<p><code>show variables like &#39;character%&#39;;</code>查看数据库编码方式</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14t3lx2y5j30pc0gsq9w.jpg" alt></p>
</li>
<li><p>通过mysql相关命令查询当前系统时间。以文本信息提交操作命令和查询结果到答题框。</p>
<p><code>select sysdate();</code>查询系统时间</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14t7xpvrqj30be04pt8u.jpg" alt></p>
</li>
<li><p>通过mysql相关命令，查看当前是什么用户，以文本信息提交操作命令和查询结果到答题框。</p>
<p><code>select user();</code>查看当前用户</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14tbpknhkj30ac04hwek.jpg" alt></p>
</li>
<li><p>通过mysql相关命令，查看mysql的默认存储引擎信息，并查看mysql支持的存储引擎有哪些，以文本信息提交操作命令和查询结果到答题框。</p>
<p><code>show variables like &#39;storage_engine&#39;;</code>查看默认存储引擎</p>
<p><code>show variable like &#39;have%&#39;;</code>查看支持的存储引擎</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g14tefa3eoj30pc0gsdn7.jpg" alt></p>
</li>
</ul>
<hr>
</li>
<li><p>MySQL困难题**</p>
<ul>
<li><p>进入数据库keystone，通过user表和local_user表做联合更新，u用来做user表别名，lu用来做local_user表别名，sql语句更新neutron用户的enabled状态为0, 更新语句中user表在local_user前面。 将sql语句，以文本形式提交到答题框。</p>
<p><code>use keystone;</code>使用keystone库</p>
<p><code>select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;</code>user表取别名u,local_user取别名lu,联合查询user表和local_user表的neutron用户enabled状态</p>
<p><code>update user as u,local_user as lu set u.enabled=&quot;0&quot; where u.id=lu.user_id and lu.name=&quot;neutron&quot;;</code>更新user和local_user表的enabled状态为1</p>
<p><code>select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;</code>user表取别名u,local_user取别名lu,联合查询user表和local_user表的neutron用户更新后的enabled状态</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1705kdzicj30oq0gstfo.jpg" alt></p>
</li>
<li><p>进入数据库keystone，通过user表和local_user表做联合查询，u用来做user表别名，lu用来做local_user表别名，两表联合查询nova用户的enabled状态,查询语句中user表在local_user前面。将所有操作命令及反馈结果提交到答题框。</p>
<p><code>use keystone;</code>使用keystone库</p>
<p><code>select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;nova&quot;</code>user表取别名u,local_user取别名lu,联合查询Nova用户enabled状态</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g170ad0t70j30ru0jw10q.jpg" alt></p>
</li>
<li><p>进入数据库，创建本地用户examuser，密码为000000，然后查询mysql数据库中的user表的host，user，password字段。最后赋予这个用户所有数据库的“查询”“删除”“更新”“创建”的本地权限。以文本形式提交以上操作命令到答题框。</p>
<p><code>use mysql;</code>使用mysql库</p>
<p><code>insert into mysql.user(host,user,Password) values(&quot;localhost&quot;,&quot;examuser&quot;,Password(&quot;000000&quot;));</code>创建本地用户,用户名为examuser,密码为000000</p>
<p><code>select host,user,password from user;</code></p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g173jcgwvjj30ru0jwtk2.jpg" alt></p>
<p><code>grant select,delete,update,create on *.* to examuser@&quot;localhost&quot; identified by &quot;000000&quot;</code> 赋予examuser用户查询,删除,更新,创建的本地权限</p>
</li>
<li><p>登录 iaas 云主机，登录 mysql 数据库，使用 keystone 数据库，查询本地用户表中的所有信息，并按照 id 的降序排序。将以上所有的操作命令及返回结果以文本形式提交到答题框。（关于数据库的命令均使用小写） </p>
<p><code>use keystone;</code>使用keystone库</p>
<p><code>select * from user order by id desc;</code>以降序查看id表中所有信息</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g173shvaxej30ru0jwwoa.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="5">
<li><strong>MongoDB运维</strong><ul>
<li>登录 iaas 云主机，登录 MongoDB 数据库，查看数据库，使用 ceilometer数据库，查看此数据库下的集合，并查询此数据库用户，最后创建一个数据库并查询。将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，最后查询特定的一类数据。将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，插入完毕后，数据进行修改，修改完后，查询修改完的数据。将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据（其中某一条数据插入两遍），插入数据完毕后，发现某条数据多插入了一遍需要删除，请使用命令删除多余的一行数据，最后将数据库删除。将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，插入完毕后，查询集合中的数据并按照某关键字的升序排序，将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中批量插入多条数据，使用 for 循环，定义变量 i=1，插入”_id” : i，”name” : “xiaoming”， “age” : “21”。插入数据完毕后，统计集合中的数据条数，然后查询集合中满足特定条件的结果。将以上所有操作命令和返回结果以文本形式提交到答题框。</li>
<li>登录 iaas 云主机，使用 mongoimport 命令，将给定的文件，导入至 MongoDB下的相应数据库中的指定集合中。导入后登录 MongoDB 数据库。查询集合中满足特的条件的结果。将上述所有操作命令及返回结果以文本形式提交到答题框。注：PPG–场均得分；PTS–总得分；FG%–投篮命中率；3P%–三分命中率；MPG–平均上场时间</li>
</ul>
</li>
</ol>
<hr>
<ol start="6">
<li><p><strong>Keystone简单题</strong></p>
<ul>
<li><p>在keystone中创建用户testuser，密码为password，以文本形式提交以上操作命令到答题框。</p>
<p><code>source /etc/keystone/admin-openrc.sh</code></p>
<p><code>openstack user create --domain xiandian --password password testuser</code>创建用户testuser,密码为password</p>
</li>
<li><p>将testuser用户分配给admin项目，赋予用户user的权限，以文本形式提交以上操作命令到答题框。</p>
<p><code>openstack role add --project admin --user testuser admin</code>讲testuser用户归类于admin项目,并赋予user权限</p>
</li>
<li><p>以管理员身份将testuser用户的密码修改为000000，以文本形式提交以上操作命令到答题框。</p>
<p><code>openstack user set --password 000000 testuser</code>修改testuser用户的密码为000000</p>
</li>
<li><p>通过openstack相关命令获取token值，以文本形式提交以上操作命令到答题框。</p>
<p><code>opesnatck token issue</code>获取token值</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bdhjy8jwj30ru0j7wnb.jpg" alt></p>
</li>
<li><p>查询认证服务的查询端点信息，以文本形式提交查询命令和结果到答题框。</p>
<p><code>openstack endpoint list</code>查询认证服务端点信息</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bdith4bdj31k90u21kx.jpg" alt></p>
</li>
<li><p>使用命令列出认证服务目录，将查询命令和返回结果以文本形式提交以上操作命令到答题框。</p>
<p><code>openstack catalog list</code>查询认证服务目录</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bdktx6hzj30ru0j7n63.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="7">
<li><p><strong>Keystone 困难题</strong></p>
<ul>
<li><p>在keystone中创建用户testuser，密码为password，创建好之后，使用命令修改testuser密码为000000，并查看testuser的详细信息，以文本形式提交以上操作命令到答题框。</p>
<p><code>openstack user create --domain xiandian -password password testuser</code>创建用户testuser,密码为password</p>
<p><code>openstack user set --password 000000 testuser</code>修改testuser用户的密码为000000</p>
<p><code>openstack user show testuser</code>查看testuser用户的详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bdvdf2p0j30qm0hz7bt.jpg" alt></p>
</li>
<li><p>在keystone中创建用户testuser，密码为password，创建好之后，使用命令修改testuser的状态为down，并查看testuser的详细信息，以文本形式提交以上操作命令到答题框。</p>
<p><code>openstack user create --domain xiandian --password password testuser</code>创建testuser用户,密码为password</p>
<p><code>openstack user set --disable testuser</code>修改testuser用户状态为down</p>
<p><code>openstack user show testuser</code>查看testuser用户详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bdyjux1zj30ru0j77c4.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="8">
<li><p><strong>Glance简单题</strong></p>
<ul>
<li><p>使用glance相关命令上传<a href="https://pan.baidu.com/s/1KQDG9Z46DU21Ja0r3iX5eg" target="_blank" rel="noopener">CentOS_6.5_x86_64_XD.qcow2</a>镜像到云主机中，镜像名为testone，然后使用openstack相关命令，并查看镜像的详细信息，将命令与返回结果提交到答题框。</p>
<p><code>glance image-create --name &#39;testone&#39; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo/image/CentOS_6.5_x86_64_XD.qcow2</code>上传镜像CentOS_6.5,镜像名为testone</p>
<p><code>openstack image show testone</code> 使用openstack image show 查看刚刚创建的testone镜像详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKly1g1bf5lxrpdj30ru0j7dot.jpg" alt></p>
</li>
<li><p>使用glance相关命令上传两个镜像，一个名字为testone，一个名字叫testtwo，使用相同的镜像源CentOS_6.5_x86_64_XD.qcow2，然后使用openstack命令查看镜像列表，接着检查这两个镜像的checksum值是否相同，将命令与返回结果提交到答题框。</p>
<p><code>glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2</code>上传镜像CentOS_6.5,镜像名为testone</p>
<p><code>glance image-create --name &quot;testtwo&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2</code>上传镜像CentOS_6.5,镜像名为testtwo</p>
<p><code>openstack image list</code>查看镜像列表</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1blvzx6soj310p0obk4x.jpg" alt></p>
</li>
<li><p>登录iaas云主机，使用glance相关命令，上传镜像，源使用CentOS_6.5_x86_64_XD.qcow2，名字为testone，然后使用openstack命令修改这个镜像名改为examimage，改完后使用openstack命令查看镜像列表，将命令与返回结果以文本形式提交到答题框。</p>
<p><code>glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2</code>上传镜像CentOS_6.5,镜像名为testone</p>
<p><code>openstack image set testone --name examimage</code>修改testone镜像名为examimage</p>
<p><code>openstack image list</code>查看镜像列表</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bm2punw3j310p0ob14e.jpg" alt></p>
</li>
<li><p>使用glance相关命令，上传镜像，源使用CentOS_6.5_x86_64_XD.qcow2，名字为examimage，然后使用openstack命令查看镜像列表，然后给这个镜像打一个标签，标签名字为lastone，接着查询修改的结果，将命令与返回结果以文本形式提交到答题框。</p>
<p><code>glance image-create --name &quot;examimage&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2</code>上传镜像CentOS.qcow2,镜像名为examimage</p>
<p><code>openstack image set examimage --tag lastone</code>修改examimage镜像标签为lastone</p>
<p><code>openstack image show examimage</code>查看examimage镜像详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bm5qqyvbj310p0obtlq.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="9">
<li><p><strong>Glance困难题</strong></p>
<ul>
<li><p>通过一条组合命令获取镜像列表信息，该组合命令包含：</p>
<ul>
<li><p>使用curl命令获取镜像列表信息；</p>
</li>
<li><p>使用openstack相关命令获取的token值；</p>
</li>
<li><p>仅使用awk命令且用“|”作为分隔符获取token具体参数值。</p>
</li>
<li><p>以文本形式提交该组合命令和反馈结果到答题框中。</p>
</li>
</ul>
<!-- curl -s -H "X-Auth-Token:`openstack token issue | awk -F '|''/\sid\s/{print $3}'`" http://xiandian:9292/v2/images | python -mjson.tool -->
<pre><code>curl -s -H "X-Auth-Token:`openstack token issue |awk -F '|' '/\sid\s/ {print $3}'`" http://xiandian:9292/v2/images |python -m json.tool</code></pre>

<ul>
<li><font color="red">curl -s -H :-s –silent 静音模式,不输出任何东西 ,-H –header 自定义头信息传递给服务器</font></li>
<li><font color="red">opesnatck token issue获取token值</font></li>
<li><font color="red">awk -F ‘|’ ‘/\sid\s/{print $3}’ :搜索以id为关键的第三列关键词</font>
</li>
<li><font color="red">X-Auth-Token  :http协议报文头部数据</font></li>
<li><font color="red">Python -m json.tool :将json字符格式化显示</font></li>
<li>这什么鬼玩意…..<img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bqc9tfzoj305y04mweb.jpg" alt></li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bnyoxjipj310p0p0nbo.jpg" alt></p>
</li>
<li><p>通过一条组合命令获取该镜像详细信息，该组合命令要求：</p>
<ul>
<li><p>不能使用任何ID作为参数；</p>
</li>
<li><p>使用openstack相关命令获取详细信息；</p>
</li>
<li><p>使用glance相关命令获取镜像对应关系；</p>
</li>
<li><p>仅使用awk命令且用“|”作为分隔符获取ID值。</p>
</li>
<li>以文本形式提交该组合命令和反馈结果到答题框中。</li>
</ul>
<p><code>openstack image show $(glance image-list |awk -F &#39;|&#39; &#39;/\sexamimage\s/ {print $2}&#39;)</code></p>
<ul>
<li><font color="red">openstack image show xxx查看xxx镜像详情</font></li>
<li><font color="red">glance image-list 查看镜像列表</font></li>
<li><font color="red">awk -F ‘|’ ‘/\sexamimage\s/ {print $2}’搜索以examimage为关键的第二列关键词</font>

</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bpfusyphj310p0p0anx.jpg" alt></p>
</li>
<li><p>查看glance配置文件，找到默认的镜像存储目录，进入到存储目录中，使用qemu命令查看任意的一个镜像，将操作命令和返回结果以文本形式提交到答题框。</p>
<p><code>qemu-img info $(ll /var/lib/glance/images/ |awk &#39;NR==2{print $9}&#39;)</code></p>
<ul>
<li><font color="red">qemu-img info xxx查看xxx的镜像详情</font></li>
<li><font color="red">ll /var/lib/glance/images列出改目录所有文件</font></li>
<li><font color="red">awk ‘NR==2{print $9}’查看第九列第二行的数据并打印出来</font>

</li>
</ul>
<p>但是也有简单的用法,去那个目录复制粘贴一个就行…. —&gt; qemu-img info copy and paste</p>
<center><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bps3cuahg301t01tweh.gif" alt></center>

</li>
</ul>
</li>
</ol>
<hr>
<ol start="10">
<li><p><strong>Nova简单题</strong></p>
<ul>
<li><p>修改云平台中默认每个tenant的实例注入文件大小配额为20480字节，在答题框填入该命令，查询修改后的默认配额信息并以文本形式提交到答题框。</p>
<p><code>nova quota-class-show default</code>查看默认配额信息</p>
<p><code>nova quota-class-update --injected-content-bytes 20480 default</code>修改每个tenant大小配额为20480字节</p>
<p><code>nova quota-class-show default</code>查看默认配额信息</p>
</li>
<li><p>通过nova的相关命令创建云主机类型，名字exam，ID为1234，内存为1024，硬盘为20G，虚拟内核数量为2，提交云主机类型exam的详细信息到答题卡中。</p>
<p><code>nova flavor-create exam 1234 1024 20 2</code>创建云主机类型，名字exam，ID为1234，内存为1024，硬盘为20G，虚拟内核数量为2</p>
<p><code>nova flavor-show 1234</code>以ID形式查看云主机类型详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bq8nqalrj310p0p0qfx.jpg" alt></p>
</li>
<li><p>使用nova相关命令，查询nova所有服务状态，将操作命令和返回结果以文本形式提交到答题框。</p>
<p><code>nova service-list</code>查询nova所有服务状态</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bqbna3iuj312j0p0dsx.jpg" alt></p>
</li>
<li><p>修改云平台中默认每个tenant的实例配额为20个，在答题框填入该命令，查询修改后的默认配额信息并以文本形式提交到答题框。</p>
<p><code>nova quota-class-show default</code>查看默认配额信息</p>
<p><code>nova quota-class update --instances 20 default</code>修改tenant实例配额为20个</p>
<p><code>nova quota-class-show default</code>查看更新后的默认配额信息<br><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bqim23h5j312j0p07in.jpg" alt></p>
</li>
<li><p>使用nova相关命令，查询nova所有的监控列表，并查看ID为1的监控主机的详细信息，将操作命令和返回结果以文本形式提交到答题框。</p>
<p><code>nova hypervisor-list</code>查看所有监控列表</p>
<p><code>nova hypervisor-show 1</code>查看ID为1的详情</p>
<p><img src="http://ww1.sinaimg.cn/large/006FWCpKgy1g1bqkix8awj312j0p04d5.jpg" alt></p>
</li>
</ul>
</li>
</ol>
<hr>
<ol start="11">
<li><strong>Nova困难题</strong><ul>
<li>使用grep命令配合-v参数控制节点/etc/nova/nova.conf文件中有效的命令行覆盖输出到/etc/novaback.conf文件，将该命令连同cat备份后文件打印出来的信息提交到答题框中。</li>
</ul>
</li>
</ol>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2019-03-08</span><i class="fa fa-comment-o"></i><a href="/2019/03/08/云平台运维/#comments">评论</a><i class="fa fa-tag"></i><a class="tag" href="/tags/Linux/" title="Linux">Linux </a><a class="tag" href="/tags/云平台/" title="云平台">云平台 </a><a class="tag" href="/tags/OpenStack/" title="OpenStack">OpenStack </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2019/03/08/云平台运维/,随记,云平台运维,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a class="btn" role="navigation" href="/2019/03/07/云平台-创建云主机/" title="云平台&amp;创建云主机">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>