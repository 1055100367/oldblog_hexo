{"meta":{"title":"随记","subtitle":null,"description":"一个闲暇无事做记录的博客","author":"柚木舟","url":"http://yoursite.com","root":"/"},"pages":[{"title":"About Me","date":"2019-03-24T06:24:50.000Z","updated":"2019-03-27T04:24:47.336Z","comments":true,"path":"About/index.html","permalink":"http://yoursite.com/About/index.html","excerpt":"","text":"我寻思着也没人看，写不写也无所谓(于是我还是写了0.0)… 不过好歹是关于界面还是写点关于自己的事情叭…. 咳咳.. Me:毫无理想的大二狗一只 至于为什么我取个[柚木舟]这样的名字,懂的自然会懂,不懂的嘛..嘻嘻我也不告诉你 当然,也可以叫我柚子 喜欢瞎折腾，偶尔动手能力很强，偶尔智商降到0 以前很喜欢Android逆向，现如今对Linux很感兴趣 有时候懒起来自己都怕，有时候勤快的一批(不存在的) 本博客能变成现在这样,完全得益于我一位朋友耐心(要在我面前估计得砸我电脑了)指导! —&gt;他的博客 什么?想找我聊天?? 行呗 喏~ 微信 也可以通过TG找到我 就先写这么多了,有时间继续"}],"posts":[{"title":"云平台运维二","slug":"云平台运维二","date":"2019-03-23T07:15:00.000Z","updated":"2019-03-24T06:14:51.067Z","comments":true,"path":"2019/03/23/云平台运维二/","link":"","permalink":"http://yoursite.com/2019/03/23/云平台运维二/","excerpt":"","text":"任务二、IaaS云平台运维 Rabbitmq简单题 按以下配置在云平台中创建云主机，完成本任务下的相关试题后关闭云主机。 云主机： 名称：IaaS 镜像文件：Xiandian-IaaS-All.qcow2 云主机类型：4cpu、8G内存、100G硬盘 网络：网络1：int-net1，绑定浮动IP 网络2：int-net2 ​ 注：该镜像已安装IaaS平台所有可能使用的组件，用于完成IaaS平台相关运维操作题，必须按以上配置信息配置接入两个网络才能保证云主机运行正常。 ​ Tip:iaas.qcow2镜像 提取码: ncu4 ​ glance image-create --name &quot;iaas&quot; --disk-format qcow2 --container-format bare --progress &lt; iaas.qocw2上传iaas.qcow2 镜像到云平台 ​ 使用该镜像创建iaas云主机完成以下题目 ​ 根据题目要求，连接相应的云主机或各节点服务器，进行以下答题。 使用rabbitmqctl创建用户xiandian-admin，密码为admin。将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。 rabbitmqctl add_user xiandian-admin admin创建用户xiandian-admin,密码为admin 使用rabbitmqctl命令查询所有用户列表，将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。 rabbitmqctl list_users查询所有用户列表 使用命令对xiandian-admin用户进行授权，对本机所有资源可写可读权限。 rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;给xiandian-admin用户对本机所有资源的读写授权 使用rabbitmqctl命令查询集群状态，将操作命令及对应的反馈结果以文本形式提交到答题框中。 rabbitmqctl cluster status查询集群状态 Rabbitmq困难题** 使用命令给xiandian-admin用户创建administrator角色，并查询，将以上所有操作命令及对应的反馈结果以文本形式提交到答题框中。 rabbitmqctl set_user_tags xiandian-admin amdinistrator设置xiandian-admin用户为administrator rabbitmqctl list_users查询所有用户 使用命令对用户xiandian-admin进行授权，对本机所有资源可写可读权限，然后查询xiandian-admin用户的授权信息，将操作命令及对应的反馈结果以文本形式提交到答题框中。 rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;给xiandian-admin用户对本机所有资源的读写授权 rabbitmqctl list_user_permissions xiandian-admin查询xiandian-admin用户的权限 使用rabbitmqctl命令，查看队列信息，所包含的信息包括name，arguments，messages，memory。 rabbitmqctl list_queues name arguments messages memory 通过修改配置文件的方式使memcache的缓存有64MB变为256MB，使用ps相关命令查询memcahce(笨比题目…..)进程的信息，将修改的配置文件全路径文件名、修改的参数以及相应的参数值、查询到的memcache进程信息以文本形式提交到答题框中。 ps aux |grep memcache查看没修改前的进程信息 sed &#39;s/64/256/g&#39; /etc/sysconfig/memcached -i 修改缓存为256 cat /etc/sysconfig/memcache ps aux |grep memcache查看修改后的进程信息 Mysql简单题 使用数据库的相关命令查询数据库的编码方式，将查询结果以文本形式提交到答题框中。 show variables like &#39;character%&#39;;查看数据库编码方式 通过mysql相关命令查询当前系统时间。以文本信息提交操作命令和查询结果到答题框。 select sysdate();查询系统时间 通过mysql相关命令，查看当前是什么用户，以文本信息提交操作命令和查询结果到答题框。 select user();查看当前用户 通过mysql相关命令，查看mysql的默认存储引擎信息，并查看mysql支持的存储引擎有哪些，以文本信息提交操作命令和查询结果到答题框。 show variables like &#39;storage_engine&#39;;查看默认存储引擎 show variable like &#39;have%&#39;;查看支持的存储引擎 MySQL困难题** 进入数据库keystone，通过user表和local_user表做联合更新，u用来做user表别名，lu用来做local_user表别名，sql语句更新neutron用户的enabled状态为0, 更新语句中user表在local_user前面。 将sql语句，以文本形式提交到答题框。 use keystone;使用keystone库 select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;user表取别名u,local_user取别名lu,联合查询user表和local_user表的neutron用户enabled状态 update user as u,local_user as lu set u.enabled=&quot;0&quot; where u.id=lu.user_id and lu.name=&quot;neutron&quot;;更新user和local_user表的enabled状态为1 select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;user表取别名u,local_user取别名lu,联合查询user表和local_user表的neutron用户更新后的enabled状态 进入数据库keystone，通过user表和local_user表做联合查询，u用来做user表别名，lu用来做local_user表别名，两表联合查询nova用户的enabled状态,查询语句中user表在local_user前面。将所有操作命令及反馈结果提交到答题框。 use keystone;使用keystone库 select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;nova&quot;user表取别名u,local_user取别名lu,联合查询Nova用户enabled状态 进入数据库，创建本地用户examuser，密码为000000，然后查询mysql数据库中的user表的host，user，password字段。最后赋予这个用户所有数据库的“查询”“删除”“更新”“创建”的本地权限。以文本形式提交以上操作命令到答题框。 use mysql;使用mysql库 insert into mysql.user(host,user,Password) values(&quot;localhost&quot;,&quot;examuser&quot;,Password(&quot;000000&quot;));创建本地用户,用户名为examuser,密码为000000 select host,user,password from user; grant select,delete,update,create on *.* to examuser@&quot;localhost&quot; identified by &quot;000000&quot; 赋予examuser用户查询,删除,更新,创建的本地权限 登录 iaas 云主机，登录 mysql 数据库，使用 keystone 数据库，查询本地用户表中的所有信息，并按照 id 的降序排序。将以上所有的操作命令及返回结果以文本形式提交到答题框。（关于数据库的命令均使用小写） use keystone;使用keystone库 select * from user order by id desc;以降序查看id表中所有信息 MongoDB运维 登录 iaas 云主机，登录 MongoDB 数据库，查看数据库，使用 ceilometer数据库，查看此数据库下的集合，并查询此数据库用户，最后创建一个数据库并查询。将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，最后查询特定的一类数据。将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，插入完毕后，数据进行修改，修改完后，查询修改完的数据。将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据（其中某一条数据插入两遍），插入数据完毕后，发现某条数据多插入了一遍需要删除，请使用命令删除多余的一行数据，最后将数据库删除。将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中插入数据，插入完毕后，查询集合中的数据并按照某关键字的升序排序，将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，登录 MongoDB 数据库，新建一个数据库，使用这个数据库，向集合中批量插入多条数据，使用 for 循环，定义变量 i=1，插入”_id” : i，”name” : “xiaoming”， “age” : “21”。插入数据完毕后，统计集合中的数据条数，然后查询集合中满足特定条件的结果。将以上所有操作命令和返回结果以文本形式提交到答题框。 登录 iaas 云主机，使用 mongoimport 命令，将给定的文件，导入至 MongoDB下的相应数据库中的指定集合中。导入后登录 MongoDB 数据库。查询集合中满足特的条件的结果。将上述所有操作命令及返回结果以文本形式提交到答题框。注：PPG–场均得分；PTS–总得分；FG%–投篮命中率；3P%–三分命中率；MPG–平均上场时间 Keystone简单题 在keystone中创建用户testuser，密码为password，以文本形式提交以上操作命令到答题框。 source /etc/keystone/admin-openrc.sh openstack user create --domain xiandian --password password testuser创建用户testuser,密码为password 将testuser用户分配给admin项目，赋予用户user的权限，以文本形式提交以上操作命令到答题框。 openstack role add --project admin --user testuser admin讲testuser用户归类于admin项目,并赋予user权限 以管理员身份将testuser用户的密码修改为000000，以文本形式提交以上操作命令到答题框。 openstack user set --password 000000 testuser修改testuser用户的密码为000000 通过openstack相关命令获取token值，以文本形式提交以上操作命令到答题框。 opesnatck token issue获取token值 查询认证服务的查询端点信息，以文本形式提交查询命令和结果到答题框。 openstack endpoint list查询认证服务端点信息 使用命令列出认证服务目录，将查询命令和返回结果以文本形式提交以上操作命令到答题框。 openstack catalog list查询认证服务目录 Keystone 困难题 在keystone中创建用户testuser，密码为password，创建好之后，使用命令修改testuser密码为000000，并查看testuser的详细信息，以文本形式提交以上操作命令到答题框。 openstack user create --domain xiandian -password password testuser创建用户testuser,密码为password openstack user set --password 000000 testuser修改testuser用户的密码为000000 openstack user show testuser查看testuser用户的详情 在keystone中创建用户testuser，密码为password，创建好之后，使用命令修改testuser的状态为down，并查看testuser的详细信息，以文本形式提交以上操作命令到答题框。 openstack user create --domain xiandian --password password testuser创建testuser用户,密码为password openstack user set --disable testuser修改testuser用户状态为down openstack user show testuser查看testuser用户详情 Glance简单题 使用glance相关命令上传CentOS_6.5_x86_64_XD.qcow2镜像到云主机中，镜像名为testone，然后使用openstack相关命令，并查看镜像的详细信息，将命令与返回结果提交到答题框。 glance image-create --name &#39;testone&#39; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo\u0010/image/CentOS_6.5_x86_64_XD.qcow2上传镜像CentOS_6.5,镜像名为testone openstack image show testone 使用openstack image show 查看刚刚创建的testone镜像详情 使用glance相关命令上传两个镜像，一个名字为testone，一个名字叫testtwo，使用相同的镜像源CentOS_6.5_x86_64_XD.qcow2，然后使用openstack命令查看镜像列表，接着检查这两个镜像的checksum值是否相同，将命令与返回结果提交到答题框。 glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2上传镜像CentOS_6.5,镜像名为testone glance image-create --name &quot;testtwo&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2上传镜像CentOS_6.5,镜像名为testtwo openstack image list查看镜像列表 登录iaas云主机，使用glance相关命令，上传镜像，源使用CentOS_6.5_x86_64_XD.qcow2，名字为testone，然后使用openstack命令修改这个镜像名改为examimage，改完后使用openstack命令查看镜像列表，将命令与返回结果以文本形式提交到答题框。 glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2上传镜像CentOS_6.5,镜像名为testone openstack image set testone --name examimage修改testone镜像名为examimage openstack image list查看镜像列表 使用glance相关命令，上传镜像，源使用CentOS_6.5_x86_64_XD.qcow2，名字为examimage，然后使用openstack命令查看镜像列表，然后给这个镜像打一个标签，标签名字为lastone，接着查询修改的结果，将命令与返回结果以文本形式提交到答题框。 glance image-create --name &quot;examimage&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2上传镜像CentOS.qcow2,镜像名为examimage openstack image set examimage --tag lastone修改examimage镜像标签为lastone openstack image show examimage查看examimage镜像详情 Glance困难题 通过一条组合命令获取镜像列表信息，该组合命令包含： 使用curl命令获取镜像列表信息； 使用openstack相关命令获取的token值； 仅使用awk命令且用“|”作为分隔符获取token具体参数值。 以文本形式提交该组合命令和反馈结果到答题框中。 curl -s -H \"X-Auth-Token:`openstack token issue |awk -F '|' '/\\sid\\s/ {print $3}'`\" http://xiandian:9292/v2/images |python -m json.tool curl -s -H :-s –silent 静音模式,不输出任何东西 ,-H –header 自定义头信息传递给服务器 opesnatck token issue获取token值 awk -F ‘|’ ‘/\\sid\\s/{print $3}’ :搜索以id为关键的第三列关键词 X-Auth-Token :http协议报文头部数据 Python -m json.tool :将json字符格式化显示 这什么鬼玩意….. 通过一条组合命令获取该镜像详细信息，该组合命令要求： 不能使用任何ID作为参数； 使用openstack相关命令获取详细信息； 使用glance相关命令获取镜像对应关系； 仅使用awk命令且用“|”作为分隔符获取ID值。 以文本形式提交该组合命令和反馈结果到答题框中。 openstack image show $(glance image-list |awk -F &#39;|&#39; &#39;/\\sexamimage\\s/ {print $2}&#39;) openstack image show xxx查看xxx镜像详情 glance image-list 查看镜像列表 awk -F ‘|’ ‘/\\sexamimage\\s/ {print $2}’搜索以examimage为关键的第二列关键词 查看glance配置文件，找到默认的镜像存储目录，进入到存储目录中，使用qemu命令查看任意的一个镜像，将操作命令和返回结果以文本形式提交到答题框。 qemu-img info $(ll /var/lib/glance/images/ |awk &#39;NR==2{print $9}&#39;) qemu-img info xxx查看xxx的镜像详情 ll /var/lib/glance/images列出改目录所有文件 awk ‘NR==2{print $9}’查看第九列第二行的数据并打印出来 但是也有简单的用法,去那个目录复制粘贴一个就行…. —&gt; qemu-img info copy and paste Nova简单题 修改云平台中默认每个tenant的实例注入文件大小配额为20480字节，在答题框填入该命令，查询修改后的默认配额信息并以文本形式提交到答题框。 nova quota-class-show default查看默认配额信息 nova quota-class-update --injected-content-bytes 20480 default修改每个tenant大小配额为20480字节 nova quota-class-show default查看默认配额信息 通过nova的相关命令创建云主机类型，名字exam，ID为1234，内存为1024，硬盘为20G，虚拟内核数量为2，提交云主机类型exam的详细信息到答题卡中。 nova flavor-create exam 1234 1024 20 2创建云主机类型，名字exam，ID为1234，内存为1024，硬盘为20G，虚拟内核数量为2 nova flavor-show 1234以ID形式查看云主机类型详情 使用nova相关命令，查询nova所有服务状态，将操作命令和返回结果以文本形式提交到答题框。 nova service-list查询nova所有服务状态 修改云平台中默认每个tenant的实例配额为20个，在答题框填入该命令，查询修改后的默认配额信息并以文本形式提交到答题框。 nova quota-class-show default查看默认配额信息 nova quota-class update --instances 20 default修改tenant实例配额为20个 nova quota-class-show default查看更新后的默认配额信息 使用nova相关命令，查询nova所有的监控列表，并查看ID为1的监控主机的详细信息，将操作命令和返回结果以文本形式提交到答题框。 nova hypervisor-list查看所有监控列表 nova hypervisor-show 1查看ID为1的详情 Nova困难题 使用grep命令配合-v参数控制节点/etc/nova/nova.conf文件中有效的命令行覆盖输出到/etc/novaback.conf文件，将该命令连同cat备份后文件打印出来的信息提交到答题框中。 grep -v &quot;^$&quot; /etc/nova/nova.conf | grep -v ^[#] &gt; /etc/nova/novaback.conf grep -v “^quot;反向选中空行过滤 —&gt;删除空行 grep -v ^[#]反向选中以#开头的行来过滤 —&gt;删除#开头的行 cat /etc/nova/novaback.conf查看被修改后的nova.conf 此题可使用物理iaas环境，使用nova相关命令，启动一个云主机，云主机类型使用m1.small，镜像使用CentOS_6.5_x86_64_XD.qcow2，云主机名称为examtest，将操作命令及返回结果以文本的方式提交到答题框。 nova net-list查看网络列表 nova boot --flavor m1.small --image centos6.5 --nic net-id=3155a0b6-8c11-443b-948b-d07ddd08205f examtest创建一个名为examtest的云主机,类型使用m1.small,镜像使用centos6.5,网络使用内网 此题可使用物理iaas环境，使用openstack相关命令，启动一个云主机，云主机类型使用m1.small，镜像使用centos6.5，云主机名称为xxxtest，并使用openstack命令查看此云主机的详细信息，将操作命令及返回结果以文本的方式提交到答题框。 openstack server create --image centos6.5 --flavor m1.small --nic net-id=3155a0b6-8c11-443b-948b-d07ddd08205f xxxtest创建一个名为xxxtest的云主机,类型使用m1.small,镜像使用centos6.5,网络使用内网 openstack server show xxxtest查看xxxtest详情 Cinder简单题 使用fdisk分区工具，对/dev/vda进行分区，创建一个分区，大小为20G，使用“pvcreate”命令将刚创建的分区创建为物理卷，然后使用命令查看物理卷信息。以文本形式在答题框按顺序输入操作命令及反馈结果。","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"云平台","slug":"云平台","permalink":"http://yoursite.com/tags/云平台/"},{"name":"OpenStack","slug":"OpenStack","permalink":"http://yoursite.com/tags/OpenStack/"}]},{"title":"云平台运维","slug":"云平台运维","date":"2019-03-08T08:28:06.000Z","updated":"2019-03-23T07:19:20.577Z","comments":false,"path":"2019/03/08/云平台运维/","link":"","permalink":"http://yoursite.com/2019/03/08/云平台运维/","excerpt":"","text":"任务一、IaaS云平台搭建 基础环境 使用命令行方式设置主机名，防火墙以及SELinux设置如下： 设置控制节点主机名controller；计算节点主机名：compute。 各个节点关闭防火墙，设置开机不启动。 设置各个节点selinux状态为permissive。 hostnamectl set-hostname controller设置控制节点主机名 hostnamectl set-hostname compute设置计算节点主机名 systemctl stop firewalld关闭controller/compute防火墙服务 systemctl disable firewalld设置controller/compute防火墙服务开机不自启 setenforce 0临时关闭SeLinux防火墙 使用hostname命令查询控制/计算节点的主机名,以文本形式依次将查询命令及对应结果提交到答题框。 ​ hostname查看controller/compute主机名 使用getenforce命令查询控制/计算节点selinux的状态,以文本形式依次将查询命令及对应结果提交到答题框。 ​ getenforce查看controller/compute的SeLinux状态 在控制节点上通过SecureFX上传两个镜像文件CentOS-7-x86_64-DVD-1511.iso, XianDian-IaaS-v2.2.iso到opt下，通过命令行展开仅使用一条命令按先后顺序同时创建/opt下两个目录centos和iaas,并将以上镜像文件分别挂载到上述两个目录下，并使用df命令查看挂载的情况（需显示挂载的文件系统类型和具体的大小）在答题框依次提交上述的命令以及执行结果。 ​ df -Th查看挂载情况 配置控制节点本地yum源文件local.repo ，搭建ftp服务器指向存放yum源路径；配置计算节点yum源文件ftp.repo使用之前配置的控制节点ftp作为yum源，其中的两个节点的地址使用主机名表示。使用cat命令查看上述控制/计算节点的yum源全路径配置文件。以文本形式提交查询命令及结果到答题框。 ​ cat /etc/yum.repos.d/a.repo查看controller/compute的yum配置文件 在控制节点和计算节点分别安装iaas-xiandian软件包，完成配置文件中基本变量的配置，并根据提供的参数完成指定变量的配置，以文本形式提交配置文件内容到答题框中。 cat /etc/xiandian/openrc.sh |grep -v ^# |grep -v ^$查看openrc.sh环境变量文件,过滤以#开头,过滤空行 Mysql搭建： 根据平台安装步骤安装至数据库服务，使用一条命令安装提供的iaas-install-mysql.sh脚本并查看脚本运行的时间，把命令和最后输出的时间信息提交到答题框。 time iaas-install-mysql.sh查看脚本运行时间 使用root用户登录数据库，查询数据库列表信息，并提交操作命令和输出结果以文本形式提交到答题框。 mysql -uroot -p000000使用root身份登录mysql，密码为000000 show databases;查看所有数据库 使用root用户登录数据库，使用mysql数据库，查询所有表的信息，并提交操作命令和输出结果以文本形式提交到答题框。 mysql -uroot -p000000使用root身份登录mysql，密码为000000 use mysql;使用mysql库 show tables;查看mysql库中的所有表 使用root用户登录数据库，使用mysql数据库，查询所有表的信息，并查询表user中的host，user，paassword信息，提交操作命令和输出结果以文本形式提交到答题框。 mysql -uroot -p000000使用root身份登录mysql，密码为000000 use mysql;使用mysql库 show tables;查看mysql库中的所有表 select host,user,password from user;查询user表中host，user，password的数据 Keystone搭建： 按要求安装完keystone脚本后，在数据库中查询keystone用户的远程访问权限信息。 mysql -uroot -p000000使用root身份登录mysql，密码为000000 use keystone;使用keystone库 show grants for &#39;keystone&#39;@&#39;%&#39;; 查询keystone用户所有远程 (show grants 查看权限) 列出数据库keystone中所有的表。 use keystone;使用keystone库 show tables;查看keystone库中所有表 使用openstack 相关命令，查询角色列表信息，以文本形式提交查询命令和结果到答题框。 source /etc/xiandian/openrc.sh source /etc/keystone/admin-openrc.sh openstack role list查看角色列表 使用openstack 相关命令，查询admin项目信息，将操作命令和输出结果以文本形式提交到答题框。 openstack project list查看项目信息 使用openstack 相关命令，查询用户列表信息，以文本形式提交查询命令和结果到答题框。 openstack user list查看用户信息 使用openstack 相关命令，查询admin用户详细信息，以文本形式提交查询命令和结果到答题框。 openstack user show admin查看admin用户信息 使用openstack 相关命令，查询服务列表信息，以文本形式提交查询命令和结果到答题框。 openstack service list查看服务信息 使用一条命令将keystone的数据库导出为当前路径下的keystone.sql文件，并使用命令查询文件keystone.sql的大小，将导出命令及查询结果以文本形式填入答题框。 mysqldump -uroot -p000000 keystone &gt; keystone.sql讲keystone数据库导出到当前目录，并命令为keystone.sql du -h kestone.sql 查看当前目录keystone.sql文件大小 Glance搭建 根据平台安装步骤安装至镜像服务，在控制节点使用提供的脚本iaas-install-glance.sh安装glance组件。使用镜像文件CentOS_7.2_x86_64_XD.qcow2创建glance镜像名为CentOS7.2，格式为qcow2，将上传命令和执行结果提交到答题框。 glance image-create --name &quot;CentOS&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repoimages/CentOS_7.2_x86_64_XD.qcow2上传镜像 image-create //创建镜像 –name “xx” 名字为xx disk-format //镜像格式 container-format //容器格式 默认为bare progress //显示上传进度 使用glance 相关命令查询glance镜像列表，并查询CentOS7.2镜像的详细信息，将操作命令和执行结果提交到答题框。 glance image-list查询glance镜像 glance image-show a11e6359-35f9-4e3d-85a8-d036b48fa6a0查询镜像详细信息 使用systemctl 相关命令，在一条命令中查询glance组件中所有服务的状态信息，查询命令连同命令的执行结果提交到答题框。 systemctl status openstack-glance*查询关于OpenStack-glance相关的所有服务状态 Nova搭建 使用nova相关命令查询计算节点虚拟机监控器的状态，将命令和结果以文本形式提交到答题框。 nova hypervisor-stats查询监控器状态 使用nova相关命令查询nova服务状态列表，以文本形式提交查询命令和结果到答题框。 nova service-list查询服务列表 使用nova相关命令查询网络的列表信息，以文本形式提交查询命令和结果到答题框。 nova tenant-network-list查询云平台网络状态 使用nova相关命令查询nova资源使用情况的信息，以文本形式提交查询命令和结果到答题框。 nova usage-list查询云平台资源使用情况 Neutron搭建 使用neutron相关命令查询网络服务的列表信息，并已下图的形式打印出来，将相应的查询命令以及反馈结果以文本形式提交到答题框。 neutron agent-list -c binary -c agent_type -c alive查询网络服务列表中的binary,agent_type,alive信息 使用neutron相关命令查询网络服务的列表信息中的“binary”一列，将查询信息以文本形式提交到答题框。 neutron agent-list -c binary 查询网络服务列表中binary信息 使用neutron相关命令查询网络服务DHCP agent的详细信息，将相应的查询命令以及反馈结果以文本形式提交到答题框。 neutron agent-list查询网络服务详细信息 neutron agent-show 457e60ff-a312-49ae-b830-0ecb3cd7e9bc 查询DHCP agent详细信息 使用ovs-vswitchd管理工具的相关命令查询计算节点的网桥列表信息，将查询命令及反馈信息以文本形式提交到答题框。 ovs-vsctl list bridge查看计算节点网桥信息 ovs-vsctl list-br查看网桥列表 使用ovs-vswitchd管理工具的相关命令查询控制节点的网桥br-ex的端口列表信息，将查询命令及反馈信息以文本形式提交到答题框。 ovs-vsctl list-ports br-ex查询控制节点的网桥br-ex的端口列表信息 使用neutron相关命令查询所创建路由器的详细信息，将查询命令和结果以文本形式提交到答题框。 neutron router-list查询路由 neutron router-show 10f9a27b-f8d4-4bf3-b22d-9c9c0f44815a查询路由详情 使用neutron相关命令查询所创建子网的列表信息，并查看内网子网的详细信息，将查询命令和结果以文本形式提交到答题框。 neutron subnet-list查询子网列表 neutron subnet-show cb62dada-97c0-4ce9-891d-aa7342f0cb55查询内网详情 使用neutron相关命令查询所创建网络的列表信息，将查询命令和结果以文本形式提交到答题框。 neutron net-list查看网络列表 Heat搭建 使用脚本安装Heat iaas-install-heat.sh安装heat服务 使用heat相关命令，查询stack列表，在答题框中以文本形式填入查询命令及相应的反馈信息。 heat stack-list 查询stack列表,没有是正常现象 从考试系统附件下载server.yml文件，通过命令行使用server.yml文件创建栈mystack，指定配置参数为镜像CentOS7.2、网络int-net2，在答题框中以文本形式填入查询命令及相应的反馈信息。 server.yml heat stack-create -f server.yml -P &quot;image_name=CentOS7.2;net-name=int-net2&quot; mystack创建stack栈,镜像为云平台镜像名,网络为云平台内网网卡名,根据server.yml来修改image_name,net-name参数,例如我的server.yml为ImageID和NetID,我的镜像名为CentOS7,内网为int.则命令为heat stack-create -f server.yml -P &quot;ImageID=CentOS7;NetID=int&quot; mystack heat stack-show mystack查看mystack栈详情 查询栈mystack状态为CREATE_COMPLETE的事件详细信息，在答题框中以文本形式填入查询命令及相应的反馈信息。 heat event-list mystack查看mystack栈状态 heat event-show mystack mystack 4652fa52-275c-4edb-bb7e-d50040966c26查看mystack栈状态为CREATE_COMPLETE的事件详细信息 查询栈mystack的事件列表信息，在答题框中以文本形式填入查询命令及相应的反馈信息。 heat stack-list查询stack列表 heat event-list mystack查看mystack栈状态 Trove搭建 在控制节点配置提供的脚本iaas-install-trove.sh，使其连接的网络为int-net1，安装数据库trove服务，完成trove服务在控制节点的安装。完成后查询所有的数据库实例列表。将以上操作命令及检查结果填入答题框。 iaas-install-cinder-controller.sh安装cinder服务 iaas-install-swift-controller.sh安装swift服务 iaa-install-trove.sh安装trove服务 在控制节点上传提供的MySQL_5.6_XD.qcow2到系统内，并创建mysql的数据库存储类型，使用上传的镜像更新该数据库类型的版本信息和镜像信息，将以上操作命令及结果填入答题框。 以下命令在/usr/local/bin/iaas-install-trove.sh最后七行有 glance image-create --name &quot;mysql-5.6&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo/images/MySQL_5.6_XD.qcow2上传MySql镜像 trove-manage datastore_update mysql &#39;&#39;更新数据库存储类型 Glance_Image_ID=$(glance image-list | awk &#39;/ mysql-5.6 / { print $2 }&#39;) &amp;&amp; trove-manage datastore_version_update mysql mysql-5.6 mysql ${Glance_Image_ID} &#39;&#39; 1截取mysql镜像ID并定义变量,更新版本信息及镜像信息 trove list查看列表 在控制节点查创建名称为mysql-1，大小为5G，数据库名称为myDB、远程连接用户为user,密码为r00tme，类型为m1.small完成后查询trove列表信息，并查询mysql-1的详细信息，将以上操作命令及结果填入答题框。 FLAVOR_ID=$(openstack flavor list | awk &#39;/ m1.small / { print $2 }&#39;) &amp;&amp; trove create mysql-1 ${FLAVOR_ID} --size 5 --databases myDB --users user:r00tme --datastore_version mysql-5.6 --datastore mysql截取云主机类型ID并定义变量,更新镜像信息 trove show mysql-1查询mysql-1的详细信息 在控制节点查询所有数据的版本信息，完成后查询mysql数据库的详细信息，将以上操作命令及结果填入答题框。 trove datastore-list查询mysql详细信息","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"云平台","slug":"云平台","permalink":"http://yoursite.com/tags/云平台/"},{"name":"OpenStack","slug":"OpenStack","permalink":"http://yoursite.com/tags/OpenStack/"}]},{"title":"云平台&创建云主机","slug":"云平台-创建云主机","date":"2019-03-07T01:24:13.000Z","updated":"2019-03-16T05:02:30.505Z","comments":true,"path":"2019/03/07/云平台-创建云主机/","link":"","permalink":"http://yoursite.com/2019/03/07/云平台-创建云主机/","excerpt":"","text":"​ 根据云平台搭建我们已经知道了如何在服务器上搭建云平台，也已经通过controller内网访问了云平台网页操作界面，此时我们就可以通过云平台来创建云主机了 云主机类型 删除自带所有云主机类型 新建一个云主机类型 名称自定义 根据实际情况划分VCPU 根据实际情况划分RAM 根据实际情况划分磁盘 例如： 2019-03-07 创建网络 创建外网 名称为gre 项目admin 网络类型gre 段ID不重复即可 勾选外部网络 例如 /images/ScreenShot/屏幕快照 创建内网 名称为int 项目admin 网络类型gre 段ID不重复即可 例如 /images/ScreenShot/屏幕快照 创建子网 新建内网子网 项目-网络-网络-int，新建一个子网 名称为sub-int 网络地址为10.0.0.0/24 网关为10.0.0.1 例如 /images/ScreenShot/屏幕快照 新建外网子网 项目-网络-网络-gre，新建一个子网 名称为sub-gre 网络地址为192.168.200.0/24 网关为192.168.200.1 例如 /images/ScreenShot/屏幕快照 创建路由 新建路由 名称为route自定义 外部网络选择gre 例如 /images/ScreenShot/屏幕快照 增加接口 在名称为route的路由里添加int的接口 例如 此时在网络拓扑里可以看到 /images/ScreenShot/屏幕快照 一切准备工作就绪之后就可以创建云主机了~ 创建云主机 名称自定义 /images/ScreenShot/屏幕快照 添加CentOS7的源 /images/ScreenShot/屏幕快照 添加之前创建的云主机类型 /images/ScreenShot/屏幕快照 添加内部网络int /images/ScreenShot/屏幕快照 等待孵化 /images/ScreenShot/屏幕快照 绑定浮动IP 点击加号新增一个外网ip 将云主机内网与外网关联 /images/ScreenShot/屏幕快照 此时可以启动云主机控制台进入云主机 管理防火墙 项目-计算-访问&amp;安全-管理规则 添加所有UDP，TCP，ICMP出入口 图片1 测试用物理机或controller节点ping云主机ip ping 192.168.200.4 使用ssh连接云主机ssh root@192.168.200.4 后续：云主机.docx","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"云平台","slug":"云平台","permalink":"http://yoursite.com/tags/云平台/"}]},{"title":"python one day","slug":"python-one-day","date":"2019-03-05T06:00:17.000Z","updated":"2019-03-16T05:02:15.655Z","comments":true,"path":"2019/03/05/python-one-day/","link":"","permalink":"http://yoursite.com/2019/03/05/python-one-day/","excerpt":"","text":"输出print (&#39;Hello World&#39;) 定义变量 x=&#39;Hello World&#39; 输出print(x) 得出结果Hello World 标识符_ 例如_test=&quot;Hello World&quot; 输出print(_test) 得出结果Hello World 导入包 import keyword if语句例子 12345test=99 //定义变量test为99if test&lt;100: //如果test小于100 print('True') //如果满足判断则输出Trueelse: //如果不满足判断则执行else print('flase') //如果test不小于100就输出flase if 多行语句 1234example=1+2+3+ \\ //定义变量example为1+2+3+4+5(的换行显示) 4+ \\ 5print (example) //输出变量example example","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}]},{"title":"Hasse k680e g6d1黑苹果安装记录","slug":"Hasse-k680e-g6d1黑苹果安装记录","date":"2019-03-03T05:44:30.000Z","updated":"2019-03-27T03:11:24.352Z","comments":true,"path":"2019/03/03/Hasse-k680e-g6d1黑苹果安装记录/","link":"","permalink":"http://yoursite.com/2019/03/03/Hasse-k680e-g6d1黑苹果安装记录/","excerpt":"","text":"配置（已驱动） CPU:i5-7400 GPU:hd630 支持亮度调节 GTX1050Ti 声卡:alc269vc 万能声卡 有线网卡 无线WiFi（某宝买个USB网卡就行了） 蓝牙Intel内置的不能隔空投送 VGA&amp;HDMI显示屏核显输出 电量 触摸板 不知道还有些啥，，一时间想不起来了 已知问题 外接显示器在开机状态拔掉内屏会黑掉 外接显示器在关机状态连接时开机会黑掉 0.0 综上。。拔掉显示器时得关机状态，连接显示器得开机状态，无外接显示器可以无视以上 亮度重启恢复默认，只支持最低亮度（黑屏），和最高亮度 触摸板貌似不支持多指（好像 我寻思着应该是没了吧 ScreenShot 系统详情 关于本机 显示 触摸板 万能声卡驱动 网络详情 亮度调节 桌面 镜像下载&amp;相关教程：黑果小兵 EFI：百度云 3.27更新 昨天升级12.1.410.14.4炸掉了= =,建议14.3使用此efi","categories":[],"tags":[{"name":"Hackintosh","slug":"Hackintosh","permalink":"http://yoursite.com/tags/Hackintosh/"}]},{"title":"Iass 搭建","slug":"Iass-搭建","date":"2019-03-01T09:35:21.000Z","updated":"2019-03-16T05:01:54.054Z","comments":true,"path":"2019/03/01/Iass-搭建/","link":"","permalink":"http://yoursite.com/2019/03/01/Iass-搭建/","excerpt":"","text":"Iaas 云平台搭建详解1. 给compute节点分区： parted /dev/md126 (parted) mkpart cinder xxG xxG //xx为从多少G开始划分，例如：100G 200G 。100G足矣 (parted) mkpart swift xxG xxG //可以接着cinder的200G (parted) p //打印出md126分区情况，记住cinder和swift前面的数字 如图，/dev/md126p4则为cinder p5则为swift (parted) q //退出，无需保存 分完区之后就是进行格式化操作 mkfs.xfs /dev/md126p x //x为cinder的分区号 mkfs.xfs /dev/md126p y //y为swift的分区号 2. 配置controller节点和compute节点的网络和主机名 修改/etc/systemctl/network-scripts/ifcfg-enp* //星号后为内网网卡 修改controller节点的网络配置: 1234onboot=yesipaddr=192.168.100.10 //根据实际情况修改prefix=24gateway=192.168.100.1 修改compute节点的网络配置: 1234onboot=yes ipaddr=192.168.100.20 //根据实际情况修改prefix=24gateway=192.168.100.1 修改controller节点主机名hostnamectl set-hostname controller 修改compute节点主机名hostnamectl set-hostname compute 3. 配置controller节点和compute节点的yum仓库 删除centos自带的yum仓库 rm -rf /etc/yum.repos.d/Cent-* 配置controller节点的yum仓库vi /etc/yum.repos.d/iaas.repo 123456789[centos]name=centosbaseurl=file:///opt/centosgpgcheck=0[iaas]name=iaasXianDian-IaaS-v2.0-1228.iso baseurl=file:///opt/iaas-repo/iaas-repogpgcheck=0 配置compute节点的yum仓库 123456789[centos] name=centos baseurl=ftp://192.168.100.10/centos gpgcheck=0 [iaas] name=iaasXianDian-IaaS-v2.0-1228.iso baseurl=ftp://192.168.100.10iaas-repo/iaas-repo gpgcheck=0 挂载centos和iaas镜像文件 123mkdir /opt/centos &amp;&amp; mkdir /opt/iaas-repomount CentOS-7-x86_64-DVD-1511.iso /opt/centosmount XianDian-IaaS-v2.0-1228.iso /opt/iaas-repo 如图已经挂载好了centos和iaas镜像 controller节点安装ftp服务yum install vsftpd -y 修改配置文件echo &quot;anon_root=/opt/&quot; &gt;&gt; /etc/vsftpd/vsftpd.conf 开启ftp服务systemctl start vsftpd 设置开机自启systemctl enable vsftpd 关闭防火墙（在controller和compute都要执行）systemctl stop firewalld 设置开机不自启（在controller和compute都要执行）systemctl disable firewalld 验证yum仓库是否配置成功yum list all 4. 编辑iaas环境变量 controller和compute安装iaas-xiandian yum install iaas-xiandian -y 编辑/etc/xiandian/openrc.sh(注：根据自己实际情况来修改) 123456789101112131415161718192021222324252627282930313233HOST_IP=192.168.100.10HOST_NAME=controllerHOST_IP_NODE=192.168.100.20HOST_NAME_NODE=computeRABBIT_USER=openstackRABBIT_PASS=000000DB_PASS=000000DOMAIN_NAME=demo //自定义ADMIN_PASS=000000DEMO_PASS=000000KEYSTONE_DBPASS=000000GLANCE_DBPASS=000000GLANCE_PASS=000000NOVA_DBPASS=000000NOVA_PASS=000000NEUTRON_DBPASS=000000NEUTRON_PASS=000000METADATA_SECRET=000000INTERFACE_NAME=enp3s0f1 //本机外网网卡名CINDER_DBPASS=000000CINDER_PASS=000000TROVE_DBPASS=000000TROVE_PASS=000000BLOCK_DISK=md126p4 //compute节点的cinder分区SWIFT_PASS=000000OBJECT_DISK=md126p5 //compute节点的swift分区 STORAGE_LOCAL_NET_IP=192.168.100.20 //compute的内网IPHEAT_DBPASS=000000HEAT_PASS=000000CEILOMETER_DBPASS=000000CEILOMETER_PASS=000000AODH_DBPASS=000000AODH_PASS=000000 修改完成后去掉参数前的注释，此外还有一个需要注意的地方 min和max无需修改，也不用去掉注释 controller节点修改完openrc.sh之后可以直接scp到compute节点 scp /etc/xiandian/openrc.sh 192.168.100.20:/etc/xiandian/ 复制过去之后还要修改一下compute节点openrc.sh INTERFACE_NAME=enp9s0 使用ifconfig命令查看外网网卡名称 如图可知enp3s0f1为外网网卡 刷脚本ing~~ 两个节点都执行iaas-pre-host.sh 脚本执行结束后会提示重启 在两个节点都结束后同时重启reboot controller通过脚本安装内容如下 1234567iaas-install-mysql.sh //mysql包iaas-install-keystone.sh //keystone服务iaas-install-glance.sh //glance包iaas-install-nova-controller.sh //nova服务iaas-install-neutron-controller.sh //neutron服务iaas-install-neutron-controller-gre.sh //创建gre网络iaas-install-dashboard.sh //安装Dashboard服务 compute节点通过脚本安装内容如下 123iaas-install-nova-compute.sh //nova服务iaas-install-neutron-compute.sh //neutron服务iaas-install-neutron-compute-gre.sh //创建gre网络 完成上述所有操作之后可以用浏览器访问controller的内网ip 例如192.168.100.10/dashboard Dashboard 上传镜像 source /etc/keystone/admin-openrc.sh source这个脚本 glance image-create --name &quot;CentOS7&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo/images/CentOS_7.2_x86_64_XD.qcow2 上传镜像 image-create //创建镜像 –name “xx” 名字为xx disk-format //镜像格式 container-format //容器格式 默认为bare progress //显示上传进度 ​ 如果觉得这篇文章对你有帮助的话可以收藏我的博客哦 ​ 也欢迎一起交流学习","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"云平台","slug":"云平台","permalink":"http://yoursite.com/tags/云平台/"}]},{"title":"DiskPart","slug":"DiskPart","date":"2019-03-01T03:52:35.000Z","updated":"2019-03-16T05:02:53.614Z","comments":true,"path":"2019/03/01/DiskPart/","link":"","permalink":"http://yoursite.com/2019/03/01/DiskPart/","excerpt":"","text":"关于Windows下Diskpart的操作 List disk :显示磁盘 List partition :显示分区 Select disk :选择磁盘 Select partition :选择分区 Remove letter=“盘符” –","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"}]}]}