{"meta":{"title":"éšè®°","subtitle":null,"description":null,"author":"æŸšæœ¨èˆŸ","url":"http://yoursite.com","root":"/"},"pages":[{"title":"About","date":"2019-03-27T09:58:40.451Z","updated":"2019-03-27T09:58:40.442Z","comments":true,"path":"About/index.html","permalink":"http://yoursite.com/About/index.html","excerpt":"","text":"æˆ‘å¯»æ€ç€ä¹Ÿæ²¡äººçœ‹ï¼Œå†™ä¸å†™ä¹Ÿæ— æ‰€è°“(äºæ˜¯æˆ‘è¿˜æ˜¯å†™äº†0.0)â€¦ ä¸è¿‡å¥½æ­¹æ˜¯å…³äºç•Œé¢è¿˜æ˜¯å†™ç‚¹å…³äºè‡ªå·±çš„äº‹æƒ…å­â€¦. INFOæ¯«æ— ç†æƒ³çš„å¤§äºŒç‹—ä¸€åª å¯ä»¥å«æˆ‘æŸšå­ å¾®ä¿¡ ä¹Ÿå¯ä»¥é€šè¿‡TGæ‰¾åˆ°æˆ‘ ABOUT MEå–œæ¬¢çæŠ˜è…¾ï¼Œå¶å°”åŠ¨æ‰‹èƒ½åŠ›å¾ˆå¼ºï¼Œå¶å°”æ™ºå•†é™åˆ°0 ä»¥å‰å¾ˆå–œæ¬¢Androidé€†å‘ï¼Œç°å¦‚ä»Šå¯¹Linuxå¾ˆæ„Ÿå…´è¶£ æœ‰æ—¶å€™æ‡’èµ·æ¥è‡ªå·±éƒ½æ€•ï¼Œæœ‰æ—¶å€™å‹¤å¿«çš„ä¸€æ‰¹(ä¸å­˜åœ¨çš„) æœ¬åšå®¢èƒ½å˜æˆç°åœ¨è¿™æ ·,å®Œå…¨å¾—ç›Šäºæˆ‘ä¸€ä½æœ‹å‹è€å¿ƒ(è¦åœ¨æˆ‘é¢å‰ä¼°è®¡å¾—ç ¸æˆ‘ç”µè„‘äº†)æŒ‡å¯¼! â€”&gt;ä»–çš„åšå®¢ å°±å…ˆå†™è¿™ä¹ˆå¤šäº†,æœ‰æ—¶é—´ç»§ç»­ä¹Ÿå¯ä»¥åœ¨ä¸‹é¢ç•™è¨€å“¦~"}],"posts":[{"title":"Macè¿æ¥Android","slug":"Macè¿æ¥Android","date":"2019-04-09T04:33:02.000Z","updated":"2019-04-09T06:32:47.974Z","comments":true,"path":"2019/04/09/Macè¿æ¥Android/","link":"","permalink":"http://yoursite.com/2019/04/09/Macè¿æ¥Android/","excerpt":"","text":"ä»Šæ—¥é—²ç€æ²¡äº‹å¹²æŠŠä¸€ä¸ªè€å®‰å“è®¾å¤‡ç¿»å‡ºæ¥æŠ˜è…¾â€¦. è¿œç¨‹è½¯ä»¶ä½¿ç”¨å¼€æºé¡¹ç›®scrcpy éœ€è¦Android API&gt;=21 éœ€è¦å¼€å¯ADB å®‰è£…ScrcpyWindowså»Releasesä¸‹è½½å¯¹åº”ç‰ˆæœ¬è§£å‹å°±vansäº† Linuxwikiæœ‰è¯´å’‹å®‰è£…,å› ä¸ºæœ¬äººæ²¡å®è·µè¿‡,æ‰€ä»¥å°±åœ¨æ­¤å°±ä¸å†™å‡ºæ¥äº† MacOSbrew install scrcpy å¦‚æœå®‰è£…æ—¶å‡ºç°å¦‚ä¸‹ä¿¡æ¯ 12345678ğŸº /usr/local/Cellar/sqlite/3.27.2: 11 files, 3.7MB==&gt; Installing scrcpy dependency: pythonWarning: Building python from source: The bottle needs the Apple Command Line Tools to be installed. You can install them, if desired, with: xcode-select --installxcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun åˆ™æ‰§è¡Œxcode-select â€”installåé‡æ–°å®‰è£… è¿è¡Œscrcpy åœ¨å·²è¿æ¥(USB/Wi-Fi)Androidåæ‰§è¡Œscrcpyå³å¯æ§åˆ¶å®‰å“è®¾å¤‡ å®‰è£…ADB(å‚è€ƒxdaå¸–å­)Windowsä¸‹è½½ADB(éœ€è¦â€ç‰¹æ®Šâ€ç½‘ç»œ) åº¦ç›˜ è§£å‹åä½¿ç”¨powershell/cmdè¿›å…¥è¯¥æ–‡ä»¶ç›®å½•,æˆ–åœ¨è§£å‹åçš„æ–‡ä»¶ç›®å½•æŒ‰ä½shift+å³é”®åœ¨æ­¤æ‰“å¼€å‘½ä»¤è¡Œ é…ç½®pathçš„è¯æŠŠç›®å½•æ·»åŠ è¿›PATHç¯å¢ƒå˜é‡å³å¯ å®‰å“è®¾å¤‡å¼€å¯USBè°ƒè¯•,ç¡®è®¤å·²è¿æ¥å®‰å“è®¾å¤‡åadb deviceså³å¯çœ‹åˆ°è®¾å¤‡ä¿¡æ¯ LinuxDebianç³»:sudo apt install android-tools-adb -y Redhatç³»:sudo yum install android-tools-adb -y Archç³»:å»ArchWikiå­ovo å®‰å“è®¾å¤‡å¼€å¯USBè°ƒè¯•,ç¡®è®¤å·²è¿æ¥å®‰å“è®¾å¤‡åadb deviceså³å¯çœ‹åˆ°è®¾å¤‡ä¿¡æ¯ MacOSbrew cask install android-platform-tools å®‰å“è®¾å¤‡å¼€å¯USBè°ƒè¯•,ç¡®è®¤å·²è¿æ¥å®‰å“è®¾å¤‡åadb deviceså³å¯çœ‹åˆ°è®¾å¤‡ä¿¡æ¯ Q&amp;AQ:command not found A:æ£€æŸ¥æ˜¯å¦å·²å®‰è£…adbwhich adb,æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½® Q:è¿ä¸Šæ‰‹æœºçœ‹ä¸åˆ°è®¾å¤‡ A:æ£€æŸ¥USBè°ƒè¯•æ˜¯å¦å¼€å¯,æ£€æŸ¥æ•°æ®çº¿è¿æ¥æ˜¯å¦æ­£å¸¸,æ£€æŸ¥é©±åŠ¨æ˜¯å¦æ­£å¸¸å®‰è£…,æ£€æŸ¥Vendor IDæ˜¯å¦å·²æ·»åŠ åˆ°~/.android/adb_usb.inié‡Œ Q:@$Afghan^&amp;*@asfkh!^#&amp;!@â€‹kdshfq@#&amp;^#%uiewf A:å–„ç”¨ç™¾åº¦â€¦â€¦ SSHå¦‚æœè§‰å¾—å•çº¯æ§åˆ¶æ‰‹æœºä¸çˆ½çš„è¯,å¯ä»¥sshåˆ°Androidä¸Šè¹‚èºæœºå™¨äºº Androidå®‰è£…termuxå¯åœ¨é…·å®‰/Google Play/F-Droidç­‰å¹³å°ä¸‹è½½ è¿›å…¥ç»ˆç«¯åapt update apt install sshd ä½¿ç”¨passwdä¿®æ”¹å½“å‰ç”¨æˆ·ç™»å½•å¯†ç  ä½¿ç”¨whoamiæŸ¥çœ‹å½“å‰ç”¨æˆ·å åœ¨å·²è¿æ¥(USB/åŒä¸€Wi-Fi)Androidæƒ…å†µä¸‹ssh username@ip -p 8022 æ„Ÿè§‰å†™çš„æ‚ä¹±æ— ç« çš„è¯´= =","categories":[],"tags":[{"name":"Android","slug":"Android","permalink":"http://yoursite.com/tags/Android/"},{"name":"SSH","slug":"SSH","permalink":"http://yoursite.com/tags/SSH/"},{"name":"Scrcpy","slug":"Scrcpy","permalink":"http://yoursite.com/tags/Scrcpy/"}]},{"title":"äº‘å¹³å°è¿ç»´äºŒ","slug":"äº‘å¹³å°è¿ç»´äºŒ","date":"2019-03-23T07:15:00.000Z","updated":"2019-03-27T06:35:49.426Z","comments":true,"path":"2019/03/23/äº‘å¹³å°è¿ç»´äºŒ/","link":"","permalink":"http://yoursite.com/2019/03/23/äº‘å¹³å°è¿ç»´äºŒ/","excerpt":"","text":"ä»»åŠ¡äºŒã€IaaSäº‘å¹³å°è¿ç»´Rabbitmqç®€å•é¢˜ æŒ‰ä»¥ä¸‹é…ç½®åœ¨äº‘å¹³å°ä¸­åˆ›å»ºäº‘ä¸»æœºï¼Œå®Œæˆæœ¬ä»»åŠ¡ä¸‹çš„ç›¸å…³è¯•é¢˜åå…³é—­äº‘ä¸»æœºã€‚ äº‘ä¸»æœºï¼š åç§°ï¼šIaaS é•œåƒæ–‡ä»¶ï¼šXiandian-IaaS-All.qcow2 äº‘ä¸»æœºç±»å‹ï¼š4cpuã€8Gå†…å­˜ã€100Gç¡¬ç›˜ ç½‘ç»œï¼šç½‘ç»œ1ï¼šint-net1ï¼Œç»‘å®šæµ®åŠ¨IP ç½‘ç»œ2ï¼šint-net2 â€‹ æ³¨ï¼šè¯¥é•œåƒå·²å®‰è£…IaaSå¹³å°æ‰€æœ‰å¯èƒ½ä½¿ç”¨çš„ç»„ä»¶ï¼Œç”¨äºå®ŒæˆIaaSå¹³å°ç›¸å…³è¿ç»´æ“ä½œé¢˜ï¼Œå¿…é¡»æŒ‰ä»¥ä¸Šé…ç½®ä¿¡æ¯é…ç½®æ¥å…¥ä¸¤ä¸ªç½‘ç»œæ‰èƒ½ä¿è¯äº‘ä¸»æœºè¿è¡Œæ­£å¸¸ã€‚ â€‹ Tip:iaas.qcow2é•œåƒ æå–ç : ncu4 â€‹ glance image-create --name &quot;iaas&quot; --disk-format qcow2 --container-format bare --progress &lt; iaas.qocw2ä¸Šä¼ iaas.qcow2 é•œåƒåˆ°äº‘å¹³å° â€‹ ä½¿ç”¨è¯¥é•œåƒåˆ›å»ºiaasäº‘ä¸»æœºå®Œæˆä»¥ä¸‹é¢˜ç›® â€‹ æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œè¿æ¥ç›¸åº”çš„äº‘ä¸»æœºæˆ–å„èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œè¿›è¡Œä»¥ä¸‹ç­”é¢˜ã€‚ ä½¿ç”¨rabbitmqctlåˆ›å»ºç”¨æˆ·xiandian-adminï¼Œå¯†ç ä¸ºadminã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤åŠå¯¹åº”çš„åé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ rabbitmqctl add_user xiandian-admin adminåˆ›å»ºç”¨æˆ·xiandian-admin,å¯†ç ä¸ºadmin ä½¿ç”¨rabbitmqctlå‘½ä»¤æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨ï¼Œå°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤åŠå¯¹åº”çš„åé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ rabbitmqctl list_usersæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨ ä½¿ç”¨å‘½ä»¤å¯¹xiandian-adminç”¨æˆ·è¿›è¡Œæˆæƒï¼Œå¯¹æœ¬æœºæ‰€æœ‰èµ„æºå¯å†™å¯è¯»æƒé™ã€‚ rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;ç»™xiandian-adminç”¨æˆ·å¯¹æœ¬æœºæ‰€æœ‰èµ„æºçš„è¯»å†™æˆæƒ ä½¿ç”¨rabbitmqctlå‘½ä»¤æŸ¥è¯¢é›†ç¾¤çŠ¶æ€ï¼Œå°†æ“ä½œå‘½ä»¤åŠå¯¹åº”çš„åé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ rabbitmqctl cluster statusæŸ¥è¯¢é›†ç¾¤çŠ¶æ€ Rabbitmqå›°éš¾é¢˜** ä½¿ç”¨å‘½ä»¤ç»™xiandian-adminç”¨æˆ·åˆ›å»ºadministratorè§’è‰²ï¼Œå¹¶æŸ¥è¯¢ï¼Œå°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤åŠå¯¹åº”çš„åé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ rabbitmqctl set_user_tags xiandian-admin amdinistratorè®¾ç½®xiandian-adminç”¨æˆ·ä¸ºadministrator rabbitmqctl list_usersæŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· ä½¿ç”¨å‘½ä»¤å¯¹ç”¨æˆ·xiandian-adminè¿›è¡Œæˆæƒï¼Œå¯¹æœ¬æœºæ‰€æœ‰èµ„æºå¯å†™å¯è¯»æƒé™ï¼Œç„¶åæŸ¥è¯¢xiandian-adminç”¨æˆ·çš„æˆæƒä¿¡æ¯ï¼Œå°†æ“ä½œå‘½ä»¤åŠå¯¹åº”çš„åé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ rabbitmqctl set_permissions xiandian-admin &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;ç»™xiandian-adminç”¨æˆ·å¯¹æœ¬æœºæ‰€æœ‰èµ„æºçš„è¯»å†™æˆæƒ rabbitmqctl list_user_permissions xiandian-adminæŸ¥è¯¢xiandian-adminç”¨æˆ·çš„æƒé™ ä½¿ç”¨rabbitmqctlå‘½ä»¤ï¼ŒæŸ¥çœ‹é˜Ÿåˆ—ä¿¡æ¯ï¼Œæ‰€åŒ…å«çš„ä¿¡æ¯åŒ…æ‹¬nameï¼Œargumentsï¼Œmessagesï¼Œmemoryã€‚ rabbitmqctl list_queues name arguments messages memory é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼ä½¿memcacheçš„ç¼“å­˜æœ‰64MBå˜ä¸º256MBï¼Œä½¿ç”¨psç›¸å…³å‘½ä»¤æŸ¥è¯¢memcahce(ç¬¨æ¯”é¢˜ç›®â€¦..)è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå°†ä¿®æ”¹çš„é…ç½®æ–‡ä»¶å…¨è·¯å¾„æ–‡ä»¶åã€ä¿®æ”¹çš„å‚æ•°ä»¥åŠç›¸åº”çš„å‚æ•°å€¼ã€æŸ¥è¯¢åˆ°çš„memcacheè¿›ç¨‹ä¿¡æ¯ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ ps aux |grep memcacheæŸ¥çœ‹æ²¡ä¿®æ”¹å‰çš„è¿›ç¨‹ä¿¡æ¯ sed &#39;s/64/256/g&#39; /etc/sysconfig/memcached -i ä¿®æ”¹ç¼“å­˜ä¸º256 cat /etc/sysconfig/memcache ps aux |grep memcacheæŸ¥çœ‹ä¿®æ”¹åçš„è¿›ç¨‹ä¿¡æ¯ Mysqlç®€å•é¢˜ ä½¿ç”¨æ•°æ®åº“çš„ç›¸å…³å‘½ä»¤æŸ¥è¯¢æ•°æ®åº“çš„ç¼–ç æ–¹å¼ï¼Œå°†æŸ¥è¯¢ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ show variables like &#39;character%&#39;;æŸ¥çœ‹æ•°æ®åº“ç¼–ç æ–¹å¼ é€šè¿‡mysqlç›¸å…³å‘½ä»¤æŸ¥è¯¢å½“å‰ç³»ç»Ÿæ—¶é—´ã€‚ä»¥æ–‡æœ¬ä¿¡æ¯æäº¤æ“ä½œå‘½ä»¤å’ŒæŸ¥è¯¢ç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ select sysdate();æŸ¥è¯¢ç³»ç»Ÿæ—¶é—´ é€šè¿‡mysqlç›¸å…³å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰æ˜¯ä»€ä¹ˆç”¨æˆ·ï¼Œä»¥æ–‡æœ¬ä¿¡æ¯æäº¤æ“ä½œå‘½ä»¤å’ŒæŸ¥è¯¢ç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ select user();æŸ¥çœ‹å½“å‰ç”¨æˆ· é€šè¿‡mysqlç›¸å…³å‘½ä»¤ï¼ŒæŸ¥çœ‹mysqlçš„é»˜è®¤å­˜å‚¨å¼•æ“ä¿¡æ¯ï¼Œå¹¶æŸ¥çœ‹mysqlæ”¯æŒçš„å­˜å‚¨å¼•æ“æœ‰å“ªäº›ï¼Œä»¥æ–‡æœ¬ä¿¡æ¯æäº¤æ“ä½œå‘½ä»¤å’ŒæŸ¥è¯¢ç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ show variables like &#39;storage_engine&#39;;æŸ¥çœ‹é»˜è®¤å­˜å‚¨å¼•æ“ show variable like &#39;have%&#39;;æŸ¥çœ‹æ”¯æŒçš„å­˜å‚¨å¼•æ“ MySQLå›°éš¾é¢˜ è¿›å…¥æ•°æ®åº“keystoneï¼Œé€šè¿‡userè¡¨å’Œlocal_userè¡¨åšè”åˆæ›´æ–°ï¼Œuç”¨æ¥åšuserè¡¨åˆ«åï¼Œluç”¨æ¥åšlocal_userè¡¨åˆ«åï¼Œsqlè¯­å¥æ›´æ–°neutronç”¨æˆ·çš„enabledçŠ¶æ€ä¸º0, æ›´æ–°è¯­å¥ä¸­userè¡¨åœ¨local_userå‰é¢ã€‚ å°†sqlè¯­å¥ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ use keystone;ä½¿ç”¨keystoneåº“ select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;userè¡¨å–åˆ«åu,local_userå–åˆ«ålu,è”åˆæŸ¥è¯¢userè¡¨å’Œlocal_userè¡¨çš„neutronç”¨æˆ·enabledçŠ¶æ€ update user as u,local_user as lu set u.enabled=&quot;0&quot; where u.id=lu.user_id and lu.name=&quot;neutron&quot;;æ›´æ–°userå’Œlocal_userè¡¨çš„enabledçŠ¶æ€ä¸º1 select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;neutron&quot;;userè¡¨å–åˆ«åu,local_userå–åˆ«ålu,è”åˆæŸ¥è¯¢userè¡¨å’Œlocal_userè¡¨çš„neutronç”¨æˆ·æ›´æ–°åçš„enabledçŠ¶æ€ è¿›å…¥æ•°æ®åº“keystoneï¼Œé€šè¿‡userè¡¨å’Œlocal_userè¡¨åšè”åˆæŸ¥è¯¢ï¼Œuç”¨æ¥åšuserè¡¨åˆ«åï¼Œluç”¨æ¥åšlocal_userè¡¨åˆ«åï¼Œä¸¤è¡¨è”åˆæŸ¥è¯¢novaç”¨æˆ·çš„enabledçŠ¶æ€,æŸ¥è¯¢è¯­å¥ä¸­userè¡¨åœ¨local_userå‰é¢ã€‚å°†æ‰€æœ‰æ“ä½œå‘½ä»¤åŠåé¦ˆç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ use keystone;ä½¿ç”¨keystoneåº“ select enabled from user as u,local_user as lu where u.id=lu.user_id and lu.name=&quot;nova&quot;userè¡¨å–åˆ«åu,local_userå–åˆ«ålu,è”åˆæŸ¥è¯¢Novaç”¨æˆ·enabledçŠ¶æ€ è¿›å…¥æ•°æ®åº“ï¼Œåˆ›å»ºæœ¬åœ°ç”¨æˆ·examuserï¼Œå¯†ç ä¸º000000ï¼Œç„¶åæŸ¥è¯¢mysqlæ•°æ®åº“ä¸­çš„userè¡¨çš„hostï¼Œuserï¼Œpasswordå­—æ®µã€‚æœ€åèµ‹äºˆè¿™ä¸ªç”¨æˆ·æ‰€æœ‰æ•°æ®åº“çš„â€œæŸ¥è¯¢â€â€œåˆ é™¤â€â€œæ›´æ–°â€â€œåˆ›å»ºâ€çš„æœ¬åœ°æƒé™ã€‚ä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ use mysql;ä½¿ç”¨mysqlåº“ insert into mysql.user(host,user,Password) values(&quot;localhost&quot;,&quot;examuser&quot;,Password(&quot;000000&quot;));åˆ›å»ºæœ¬åœ°ç”¨æˆ·,ç”¨æˆ·åä¸ºexamuser,å¯†ç ä¸º000000 select host,user,password from user; grant select,delete,update,create on *.* to examuser@&quot;localhost&quot; identified by &quot;000000&quot; èµ‹äºˆexamuserç”¨æˆ·æŸ¥è¯¢,åˆ é™¤,æ›´æ–°,åˆ›å»ºçš„æœ¬åœ°æƒé™ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• mysql æ•°æ®åº“ï¼Œä½¿ç”¨ keystone æ•°æ®åº“ï¼ŒæŸ¥è¯¢æœ¬åœ°ç”¨æˆ·è¡¨ä¸­çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶æŒ‰ç…§ id çš„é™åºæ’åºã€‚å°†ä»¥ä¸Šæ‰€æœ‰çš„æ“ä½œå‘½ä»¤åŠè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ï¼ˆå…³äºæ•°æ®åº“çš„å‘½ä»¤å‡ä½¿ç”¨å°å†™ï¼‰ use keystone;ä½¿ç”¨keystoneåº“ select * from user order by id desc;ä»¥é™åºæŸ¥çœ‹idè¡¨ä¸­æ‰€æœ‰ä¿¡æ¯ MongoDBè¿ç»´ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼ŒæŸ¥çœ‹æ•°æ®åº“ï¼Œä½¿ç”¨ ceilometeræ•°æ®åº“ï¼ŒæŸ¥çœ‹æ­¤æ•°æ®åº“ä¸‹çš„é›†åˆï¼Œå¹¶æŸ¥è¯¢æ­¤æ•°æ®åº“ç”¨æˆ·ï¼Œæœ€ååˆ›å»ºä¸€ä¸ªæ•°æ®åº“å¹¶æŸ¥è¯¢ã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼Œå‘é›†åˆä¸­æ’å…¥æ•°æ®ï¼Œæœ€åæŸ¥è¯¢ç‰¹å®šçš„ä¸€ç±»æ•°æ®ã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼Œå‘é›†åˆä¸­æ’å…¥æ•°æ®ï¼Œæ’å…¥å®Œæ¯•åï¼Œæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹å®Œåï¼ŒæŸ¥è¯¢ä¿®æ”¹å®Œçš„æ•°æ®ã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼Œå‘é›†åˆä¸­æ’å…¥æ•°æ®ï¼ˆå…¶ä¸­æŸä¸€æ¡æ•°æ®æ’å…¥ä¸¤éï¼‰ï¼Œæ’å…¥æ•°æ®å®Œæ¯•åï¼Œå‘ç°æŸæ¡æ•°æ®å¤šæ’å…¥äº†ä¸€ééœ€è¦åˆ é™¤ï¼Œè¯·ä½¿ç”¨å‘½ä»¤åˆ é™¤å¤šä½™çš„ä¸€è¡Œæ•°æ®ï¼Œæœ€åå°†æ•°æ®åº“åˆ é™¤ã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼Œå‘é›†åˆä¸­æ’å…¥æ•°æ®ï¼Œæ’å…¥å®Œæ¯•åï¼ŒæŸ¥è¯¢é›†åˆä¸­çš„æ•°æ®å¹¶æŒ‰ç…§æŸå…³é”®å­—çš„å‡åºæ’åºï¼Œå°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œç™»å½• MongoDB æ•°æ®åº“ï¼Œæ–°å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œä½¿ç”¨è¿™ä¸ªæ•°æ®åº“ï¼Œå‘é›†åˆä¸­æ‰¹é‡æ’å…¥å¤šæ¡æ•°æ®ï¼Œä½¿ç”¨ for å¾ªç¯ï¼Œå®šä¹‰å˜é‡ i=1ï¼Œæ’å…¥â€_idâ€ : iï¼Œâ€nameâ€ : â€œxiaomingâ€ï¼Œ â€œageâ€ : â€œ21â€ã€‚æ’å…¥æ•°æ®å®Œæ¯•åï¼Œç»Ÿè®¡é›†åˆä¸­çš„æ•°æ®æ¡æ•°ï¼Œç„¶åæŸ¥è¯¢é›†åˆä¸­æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„ç»“æœã€‚å°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ç™»å½• iaas äº‘ä¸»æœºï¼Œä½¿ç”¨ mongoimport å‘½ä»¤ï¼Œå°†ç»™å®šçš„æ–‡ä»¶ï¼Œå¯¼å…¥è‡³ MongoDBä¸‹çš„ç›¸åº”æ•°æ®åº“ä¸­çš„æŒ‡å®šé›†åˆä¸­ã€‚å¯¼å…¥åç™»å½• MongoDB æ•°æ®åº“ã€‚æŸ¥è¯¢é›†åˆä¸­æ»¡è¶³ç‰¹çš„æ¡ä»¶çš„ç»“æœã€‚å°†ä¸Šè¿°æ‰€æœ‰æ“ä½œå‘½ä»¤åŠè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚æ³¨ï¼šPPGâ€“åœºå‡å¾—åˆ†ï¼›PTSâ€“æ€»å¾—åˆ†ï¼›FG%â€“æŠ•ç¯®å‘½ä¸­ç‡ï¼›3P%â€“ä¸‰åˆ†å‘½ä¸­ç‡ï¼›MPGâ€“å¹³å‡ä¸Šåœºæ—¶é—´ Keystoneç®€å•é¢˜ åœ¨keystoneä¸­åˆ›å»ºç”¨æˆ·testuserï¼Œå¯†ç ä¸ºpasswordï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ source /etc/keystone/admin-openrc.sh openstack user create --domain xiandian --password password testuseråˆ›å»ºç”¨æˆ·testuser,å¯†ç ä¸ºpassword å°†testuserç”¨æˆ·åˆ†é…ç»™adminé¡¹ç›®ï¼Œèµ‹äºˆç”¨æˆ·userçš„æƒé™ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack role add --project admin --user testuser adminè®²testuserç”¨æˆ·å½’ç±»äºadminé¡¹ç›®,å¹¶èµ‹äºˆuseræƒé™ ä»¥ç®¡ç†å‘˜èº«ä»½å°†testuserç”¨æˆ·çš„å¯†ç ä¿®æ”¹ä¸º000000ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack user set --password 000000 testuserä¿®æ”¹testuserç”¨æˆ·çš„å¯†ç ä¸º000000 é€šè¿‡openstackç›¸å…³å‘½ä»¤è·å–tokenå€¼ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ opesnatck token issueè·å–tokenå€¼ æŸ¥è¯¢è®¤è¯æœåŠ¡çš„æŸ¥è¯¢ç«¯ç‚¹ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ openstack endpoint listæŸ¥è¯¢è®¤è¯æœåŠ¡ç«¯ç‚¹ä¿¡æ¯ ä½¿ç”¨å‘½ä»¤åˆ—å‡ºè®¤è¯æœåŠ¡ç›®å½•ï¼Œå°†æŸ¥è¯¢å‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack catalog listæŸ¥è¯¢è®¤è¯æœåŠ¡ç›®å½• Keystone å›°éš¾é¢˜ åœ¨keystoneä¸­åˆ›å»ºç”¨æˆ·testuserï¼Œå¯†ç ä¸ºpasswordï¼Œåˆ›å»ºå¥½ä¹‹åï¼Œä½¿ç”¨å‘½ä»¤ä¿®æ”¹testuserå¯†ç ä¸º000000ï¼Œå¹¶æŸ¥çœ‹testuserçš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack user create --domain xiandian -password password testuseråˆ›å»ºç”¨æˆ·testuser,å¯†ç ä¸ºpassword openstack user set --password 000000 testuserä¿®æ”¹testuserç”¨æˆ·çš„å¯†ç ä¸º000000 openstack user show testuseræŸ¥çœ‹testuserç”¨æˆ·çš„è¯¦æƒ… åœ¨keystoneä¸­åˆ›å»ºç”¨æˆ·testuserï¼Œå¯†ç ä¸ºpasswordï¼Œåˆ›å»ºå¥½ä¹‹åï¼Œä½¿ç”¨å‘½ä»¤ä¿®æ”¹testuserçš„çŠ¶æ€ä¸ºdownï¼Œå¹¶æŸ¥çœ‹testuserçš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤ä»¥ä¸Šæ“ä½œå‘½ä»¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack user create --domain xiandian --password password testuseråˆ›å»ºtestuserç”¨æˆ·,å¯†ç ä¸ºpassword openstack user set --disable testuserä¿®æ”¹testuserç”¨æˆ·çŠ¶æ€ä¸ºdown openstack user show testuseræŸ¥çœ‹testuserç”¨æˆ·è¯¦æƒ… Glanceç®€å•é¢˜ ä½¿ç”¨glanceç›¸å…³å‘½ä»¤ä¸Šä¼ CentOS_6.5_x86_64_XD.qcow2é•œåƒåˆ°äº‘ä¸»æœºä¸­ï¼Œé•œåƒåä¸ºtestoneï¼Œç„¶åä½¿ç”¨openstackç›¸å…³å‘½ä»¤ï¼Œå¹¶æŸ¥çœ‹é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†å‘½ä»¤ä¸è¿”å›ç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-create --name &#39;testone&#39; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo\u0010/image/CentOS_6.5_x86_64_XD.qcow2ä¸Šä¼ é•œåƒCentOS_6.5,é•œåƒåä¸ºtestone openstack image show testone ä½¿ç”¨openstack image show æŸ¥çœ‹åˆšåˆšåˆ›å»ºçš„testoneé•œåƒè¯¦æƒ… ä½¿ç”¨glanceç›¸å…³å‘½ä»¤ä¸Šä¼ ä¸¤ä¸ªé•œåƒï¼Œä¸€ä¸ªåå­—ä¸ºtestoneï¼Œä¸€ä¸ªåå­—å«testtwoï¼Œä½¿ç”¨ç›¸åŒçš„é•œåƒæºCentOS_6.5_x86_64_XD.qcow2ï¼Œç„¶åä½¿ç”¨openstackå‘½ä»¤æŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼Œæ¥ç€æ£€æŸ¥è¿™ä¸¤ä¸ªé•œåƒçš„checksumå€¼æ˜¯å¦ç›¸åŒï¼Œå°†å‘½ä»¤ä¸è¿”å›ç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2ä¸Šä¼ é•œåƒCentOS_6.5,é•œåƒåä¸ºtestone glance image-create --name &quot;testtwo&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_x86_64_XD.qcow2ä¸Šä¼ é•œåƒCentOS_6.5,é•œåƒåä¸ºtesttwo openstack image listæŸ¥çœ‹é•œåƒåˆ—è¡¨ ç™»å½•iaasäº‘ä¸»æœºï¼Œä½¿ç”¨glanceç›¸å…³å‘½ä»¤ï¼Œä¸Šä¼ é•œåƒï¼Œæºä½¿ç”¨CentOS_6.5_x86_64_XD.qcow2ï¼Œåå­—ä¸ºtestoneï¼Œç„¶åä½¿ç”¨openstackå‘½ä»¤ä¿®æ”¹è¿™ä¸ªé•œåƒåæ”¹ä¸ºexamimageï¼Œæ”¹å®Œåä½¿ç”¨openstackå‘½ä»¤æŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼Œå°†å‘½ä»¤ä¸è¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-create --name &quot;testone&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2ä¸Šä¼ é•œåƒCentOS_6.5,é•œåƒåä¸ºtestone openstack image set testone --name examimageä¿®æ”¹testoneé•œåƒåä¸ºexamimage openstack image listæŸ¥çœ‹é•œåƒåˆ—è¡¨ ä½¿ç”¨glanceç›¸å…³å‘½ä»¤ï¼Œä¸Šä¼ é•œåƒï¼Œæºä½¿ç”¨CentOS_6.5_x86_64_XD.qcow2ï¼Œåå­—ä¸ºexamimageï¼Œç„¶åä½¿ç”¨openstackå‘½ä»¤æŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼Œç„¶åç»™è¿™ä¸ªé•œåƒæ‰“ä¸€ä¸ªæ ‡ç­¾ï¼Œæ ‡ç­¾åå­—ä¸ºlastoneï¼Œæ¥ç€æŸ¥è¯¢ä¿®æ”¹çš„ç»“æœï¼Œå°†å‘½ä»¤ä¸è¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-create --name &quot;examimage&quot; --disk-format qcow2 --container-format bare --progress &lt; CentOS_6.5_x86_64_XD.qcow2ä¸Šä¼ é•œåƒCentOS.qcow2,é•œåƒåä¸ºexamimage openstack image set examimage --tag lastoneä¿®æ”¹examimageé•œåƒæ ‡ç­¾ä¸ºlastone openstack image show examimageæŸ¥çœ‹examimageé•œåƒè¯¦æƒ… Glanceå›°éš¾é¢˜ é€šè¿‡ä¸€æ¡ç»„åˆå‘½ä»¤è·å–é•œåƒåˆ—è¡¨ä¿¡æ¯ï¼Œè¯¥ç»„åˆå‘½ä»¤åŒ…å«ï¼š ä½¿ç”¨curlå‘½ä»¤è·å–é•œåƒåˆ—è¡¨ä¿¡æ¯ï¼› ä½¿ç”¨openstackç›¸å…³å‘½ä»¤è·å–çš„tokenå€¼ï¼› ä»…ä½¿ç”¨awkå‘½ä»¤ä¸”ç”¨â€œ|â€ä½œä¸ºåˆ†éš”ç¬¦è·å–tokenå…·ä½“å‚æ•°å€¼ã€‚ ä»¥æ–‡æœ¬å½¢å¼æäº¤è¯¥ç»„åˆå‘½ä»¤å’Œåé¦ˆç»“æœåˆ°ç­”é¢˜æ¡†ä¸­ã€‚ curl -s -H \"X-Auth-Token:`openstack token issue |awk -F '|' '/\\sid\\s/ {print $3}'`\" http://xiandian:9292/v2/images |python -m json.tool curl -s -H :-s â€“silent é™éŸ³æ¨¡å¼,ä¸è¾“å‡ºä»»ä½•ä¸œè¥¿ ,-H â€“header è‡ªå®šä¹‰å¤´ä¿¡æ¯ä¼ é€’ç»™æœåŠ¡å™¨ opesnatck token issueè·å–tokenå€¼ awk -F â€˜|â€™ â€˜/\\sid\\s/{print $3}â€™ :æœç´¢ä»¥idä¸ºå…³é”®çš„ç¬¬ä¸‰åˆ—å…³é”®è¯ X-Auth-Token :httpåè®®æŠ¥æ–‡å¤´éƒ¨æ•°æ® Python -m json.tool :å°†jsonå­—ç¬¦æ ¼å¼åŒ–æ˜¾ç¤º è¿™ä»€ä¹ˆé¬¼ç©æ„â€¦.. é€šè¿‡ä¸€æ¡ç»„åˆå‘½ä»¤è·å–è¯¥é•œåƒè¯¦ç»†ä¿¡æ¯ï¼Œè¯¥ç»„åˆå‘½ä»¤è¦æ±‚ï¼š ä¸èƒ½ä½¿ç”¨ä»»ä½•IDä½œä¸ºå‚æ•°ï¼› ä½¿ç”¨openstackç›¸å…³å‘½ä»¤è·å–è¯¦ç»†ä¿¡æ¯ï¼› ä½¿ç”¨glanceç›¸å…³å‘½ä»¤è·å–é•œåƒå¯¹åº”å…³ç³»ï¼› ä»…ä½¿ç”¨awkå‘½ä»¤ä¸”ç”¨â€œ|â€ä½œä¸ºåˆ†éš”ç¬¦è·å–IDå€¼ã€‚ ä»¥æ–‡æœ¬å½¢å¼æäº¤è¯¥ç»„åˆå‘½ä»¤å’Œåé¦ˆç»“æœåˆ°ç­”é¢˜æ¡†ä¸­ã€‚ openstack image show $(glance image-list |awk -F &#39;|&#39; &#39;/\\sexamimage\\s/ {print $2}&#39;) openstack image show xxxæŸ¥çœ‹xxxé•œåƒè¯¦æƒ… glance image-list æŸ¥çœ‹é•œåƒåˆ—è¡¨ awk -F â€˜|â€™ â€˜/\\sexamimage\\s/ {print $2}â€™æœç´¢ä»¥examimageä¸ºå…³é”®çš„ç¬¬äºŒåˆ—å…³é”®è¯ æŸ¥çœ‹glanceé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°é»˜è®¤çš„é•œåƒå­˜å‚¨ç›®å½•ï¼Œè¿›å…¥åˆ°å­˜å‚¨ç›®å½•ä¸­ï¼Œä½¿ç”¨qemuå‘½ä»¤æŸ¥çœ‹ä»»æ„çš„ä¸€ä¸ªé•œåƒï¼Œå°†æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ qemu-img info $(ll /var/lib/glance/images/ |awk &#39;NR==2{print $9}&#39;) qemu-img info xxxæŸ¥çœ‹xxxçš„é•œåƒè¯¦æƒ… ll /var/lib/glance/imagesåˆ—å‡ºæ”¹ç›®å½•æ‰€æœ‰æ–‡ä»¶ awk â€˜NR==2{print $9}â€™æŸ¥çœ‹ç¬¬ä¹åˆ—ç¬¬äºŒè¡Œçš„æ•°æ®å¹¶æ‰“å°å‡ºæ¥ ä½†æ˜¯ä¹Ÿæœ‰ç®€å•çš„ç”¨æ³•,å»é‚£ä¸ªç›®å½•å¤åˆ¶ç²˜è´´ä¸€ä¸ªå°±è¡Œâ€¦. â€”&gt; qemu-img info copy and paste Novaç®€å•é¢˜ ä¿®æ”¹äº‘å¹³å°ä¸­é»˜è®¤æ¯ä¸ªtenantçš„å®ä¾‹æ³¨å…¥æ–‡ä»¶å¤§å°é…é¢ä¸º20480å­—èŠ‚ï¼Œåœ¨ç­”é¢˜æ¡†å¡«å…¥è¯¥å‘½ä»¤ï¼ŒæŸ¥è¯¢ä¿®æ”¹åçš„é»˜è®¤é…é¢ä¿¡æ¯å¹¶ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova quota-class-show defaultæŸ¥çœ‹é»˜è®¤é…é¢ä¿¡æ¯ nova quota-class-update --injected-content-bytes 20480 defaultä¿®æ”¹æ¯ä¸ªtenantå¤§å°é…é¢ä¸º20480å­—èŠ‚ nova quota-class-show defaultæŸ¥çœ‹é»˜è®¤é…é¢ä¿¡æ¯ é€šè¿‡novaçš„ç›¸å…³å‘½ä»¤åˆ›å»ºäº‘ä¸»æœºç±»å‹ï¼Œåå­—examï¼ŒIDä¸º1234ï¼Œå†…å­˜ä¸º1024ï¼Œç¡¬ç›˜ä¸º20Gï¼Œè™šæ‹Ÿå†…æ ¸æ•°é‡ä¸º2ï¼Œæäº¤äº‘ä¸»æœºç±»å‹examçš„è¯¦ç»†ä¿¡æ¯åˆ°ç­”é¢˜å¡ä¸­ã€‚ nova flavor-create exam 1234 1024 20 2åˆ›å»ºäº‘ä¸»æœºç±»å‹ï¼Œåå­—examï¼ŒIDä¸º1234ï¼Œå†…å­˜ä¸º1024ï¼Œç¡¬ç›˜ä¸º20Gï¼Œè™šæ‹Ÿå†…æ ¸æ•°é‡ä¸º2 nova flavor-show 1234ä»¥IDå½¢å¼æŸ¥çœ‹äº‘ä¸»æœºç±»å‹è¯¦æƒ… ä½¿ç”¨novaç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢novaæ‰€æœ‰æœåŠ¡çŠ¶æ€ï¼Œå°†æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova service-listæŸ¥è¯¢novaæ‰€æœ‰æœåŠ¡çŠ¶æ€ ä¿®æ”¹äº‘å¹³å°ä¸­é»˜è®¤æ¯ä¸ªtenantçš„å®ä¾‹é…é¢ä¸º20ä¸ªï¼Œåœ¨ç­”é¢˜æ¡†å¡«å…¥è¯¥å‘½ä»¤ï¼ŒæŸ¥è¯¢ä¿®æ”¹åçš„é»˜è®¤é…é¢ä¿¡æ¯å¹¶ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova quota-class-show defaultæŸ¥çœ‹é»˜è®¤é…é¢ä¿¡æ¯ nova quota-class update --instances 20 defaultä¿®æ”¹tenantå®ä¾‹é…é¢ä¸º20ä¸ª nova quota-class-show defaultæŸ¥çœ‹æ›´æ–°åçš„é»˜è®¤é…é¢ä¿¡æ¯ ä½¿ç”¨novaç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢novaæ‰€æœ‰çš„ç›‘æ§åˆ—è¡¨ï¼Œå¹¶æŸ¥çœ‹IDä¸º1çš„ç›‘æ§ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†æ“ä½œå‘½ä»¤å’Œè¿”å›ç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova hypervisor-listæŸ¥çœ‹æ‰€æœ‰ç›‘æ§åˆ—è¡¨ nova hypervisor-show 1æŸ¥çœ‹IDä¸º1çš„è¯¦æƒ… Novaå›°éš¾é¢˜ ä½¿ç”¨grepå‘½ä»¤é…åˆ-vå‚æ•°æ§åˆ¶èŠ‚ç‚¹/etc/nova/nova.confæ–‡ä»¶ä¸­æœ‰æ•ˆçš„å‘½ä»¤è¡Œè¦†ç›–è¾“å‡ºåˆ°/etc/novaback.confæ–‡ä»¶ï¼Œå°†è¯¥å‘½ä»¤è¿åŒcatå¤‡ä»½åæ–‡ä»¶æ‰“å°å‡ºæ¥çš„ä¿¡æ¯æäº¤åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ grep -v &quot;^$&quot; /etc/nova/nova.conf | grep -v ^[#] &gt; /etc/nova/novaback.conf grep -v â€œ^î¦quot;åå‘é€‰ä¸­ç©ºè¡Œè¿‡æ»¤ â€”&gt;åˆ é™¤ç©ºè¡Œ grep -v ^[#]åå‘é€‰ä¸­ä»¥#å¼€å¤´çš„è¡Œæ¥è¿‡æ»¤ â€”&gt;åˆ é™¤#å¼€å¤´çš„è¡Œ cat /etc/nova/novaback.confæŸ¥çœ‹è¢«ä¿®æ”¹åçš„nova.conf æ­¤é¢˜å¯ä½¿ç”¨ç‰©ç†iaasç¯å¢ƒï¼Œä½¿ç”¨novaç›¸å…³å‘½ä»¤ï¼Œå¯åŠ¨ä¸€ä¸ªäº‘ä¸»æœºï¼Œäº‘ä¸»æœºç±»å‹ä½¿ç”¨m1.smallï¼Œé•œåƒä½¿ç”¨CentOS_6.5_x86_64_XD.qcow2ï¼Œäº‘ä¸»æœºåç§°ä¸ºexamtestï¼Œå°†æ“ä½œå‘½ä»¤åŠè¿”å›ç»“æœä»¥æ–‡æœ¬çš„æ–¹å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova net-listæŸ¥çœ‹ç½‘ç»œåˆ—è¡¨ nova boot --flavor m1.small --image centos6.5 --nic net-id=3155a0b6-8c11-443b-948b-d07ddd08205f examteståˆ›å»ºä¸€ä¸ªåä¸ºexamtestçš„äº‘ä¸»æœº,ç±»å‹ä½¿ç”¨m1.small,é•œåƒä½¿ç”¨centos6.5,ç½‘ç»œä½¿ç”¨å†…ç½‘ æ­¤é¢˜å¯ä½¿ç”¨ç‰©ç†iaasç¯å¢ƒï¼Œä½¿ç”¨openstackç›¸å…³å‘½ä»¤ï¼Œå¯åŠ¨ä¸€ä¸ªäº‘ä¸»æœºï¼Œäº‘ä¸»æœºç±»å‹ä½¿ç”¨m1.smallï¼Œé•œåƒä½¿ç”¨centos6.5ï¼Œäº‘ä¸»æœºåç§°ä¸ºxxxtestï¼Œå¹¶ä½¿ç”¨openstackå‘½ä»¤æŸ¥çœ‹æ­¤äº‘ä¸»æœºçš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†æ“ä½œå‘½ä»¤åŠè¿”å›ç»“æœä»¥æ–‡æœ¬çš„æ–¹å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack server create --image centos6.5 --flavor m1.small --nic net-id=3155a0b6-8c11-443b-948b-d07ddd08205f xxxteståˆ›å»ºä¸€ä¸ªåä¸ºxxxtestçš„äº‘ä¸»æœº,ç±»å‹ä½¿ç”¨m1.small,é•œåƒä½¿ç”¨centos6.5,ç½‘ç»œä½¿ç”¨å†…ç½‘ openstack server show xxxtestæŸ¥çœ‹xxxtestè¯¦æƒ… Libvirté¢˜ åœ¨ç‰©ç†äº‘å¹³å°æŸ¥è¯¢äº‘ä¸»æœºIaaSåœ¨KVMä¸­çš„çœŸå®å®ä¾‹åï¼Œåœ¨è®¡ç®—èŠ‚ç‚¹ä½¿ç”¨virshå‘½ä»¤æ‰¾åˆ°è¯¥å®ä¾‹åå¯¹åº”çš„domain-idï¼Œä½¿ç”¨è¯¥domain-idå…³é—­äº‘ä¸»æœºIaaSï¼Œå°†ä»¥ä¸Šæ‰€æœ‰æ“ä½œå‘½ä»¤åŠç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova listæŸ¥çœ‹novaåˆ—è¡¨ nova show iaasæŸ¥çœ‹iaasè¯¦æƒ…","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"äº‘å¹³å°","slug":"äº‘å¹³å°","permalink":"http://yoursite.com/tags/äº‘å¹³å°/"},{"name":"OpenStack","slug":"OpenStack","permalink":"http://yoursite.com/tags/OpenStack/"}]},{"title":"äº‘å¹³å°è¿ç»´","slug":"äº‘å¹³å°è¿ç»´","date":"2019-03-08T08:28:06.000Z","updated":"2019-03-27T06:30:15.360Z","comments":false,"path":"2019/03/08/äº‘å¹³å°è¿ç»´/","link":"","permalink":"http://yoursite.com/2019/03/08/äº‘å¹³å°è¿ç»´/","excerpt":"","text":"ä»»åŠ¡ä¸€ã€IaaSäº‘å¹³å°æ­å»ºåŸºç¡€ç¯å¢ƒ ä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼è®¾ç½®ä¸»æœºåï¼Œé˜²ç«å¢™ä»¥åŠSELinuxè®¾ç½®å¦‚ä¸‹ï¼š è®¾ç½®æ§åˆ¶èŠ‚ç‚¹ä¸»æœºåcontrollerï¼›è®¡ç®—èŠ‚ç‚¹ä¸»æœºåï¼šcomputeã€‚ å„ä¸ªèŠ‚ç‚¹å…³é—­é˜²ç«å¢™ï¼Œè®¾ç½®å¼€æœºä¸å¯åŠ¨ã€‚ è®¾ç½®å„ä¸ªèŠ‚ç‚¹selinuxçŠ¶æ€ä¸ºpermissiveã€‚ hostnamectl set-hostname controllerè®¾ç½®æ§åˆ¶èŠ‚ç‚¹ä¸»æœºå hostnamectl set-hostname computeè®¾ç½®è®¡ç®—èŠ‚ç‚¹ä¸»æœºå systemctl stop firewalldå…³é—­controller/computeé˜²ç«å¢™æœåŠ¡ systemctl disable firewalldè®¾ç½®controller/computeé˜²ç«å¢™æœåŠ¡å¼€æœºä¸è‡ªå¯ setenforce 0ä¸´æ—¶å…³é—­SeLinuxé˜²ç«å¢™ ä½¿ç”¨hostnameå‘½ä»¤æŸ¥è¯¢æ§åˆ¶/è®¡ç®—èŠ‚ç‚¹çš„ä¸»æœºå,ä»¥æ–‡æœ¬å½¢å¼ä¾æ¬¡å°†æŸ¥è¯¢å‘½ä»¤åŠå¯¹åº”ç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ â€‹ hostnameæŸ¥çœ‹controller/computeä¸»æœºå ä½¿ç”¨getenforceå‘½ä»¤æŸ¥è¯¢æ§åˆ¶/è®¡ç®—èŠ‚ç‚¹selinuxçš„çŠ¶æ€,ä»¥æ–‡æœ¬å½¢å¼ä¾æ¬¡å°†æŸ¥è¯¢å‘½ä»¤åŠå¯¹åº”ç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ â€‹ getenforceæŸ¥çœ‹controller/computeçš„SeLinuxçŠ¶æ€ åœ¨æ§åˆ¶èŠ‚ç‚¹ä¸Šé€šè¿‡SecureFXä¸Šä¼ ä¸¤ä¸ªé•œåƒæ–‡ä»¶CentOS-7-x86_64-DVD-1511.iso, XianDian-IaaS-v2.2.isoåˆ°optä¸‹ï¼Œé€šè¿‡å‘½ä»¤è¡Œå±•å¼€ä»…ä½¿ç”¨ä¸€æ¡å‘½ä»¤æŒ‰å…ˆåé¡ºåºåŒæ—¶åˆ›å»º/optä¸‹ä¸¤ä¸ªç›®å½•centoså’Œiaas,å¹¶å°†ä»¥ä¸Šé•œåƒæ–‡ä»¶åˆ†åˆ«æŒ‚è½½åˆ°ä¸Šè¿°ä¸¤ä¸ªç›®å½•ä¸‹ï¼Œå¹¶ä½¿ç”¨dfå‘½ä»¤æŸ¥çœ‹æŒ‚è½½çš„æƒ…å†µï¼ˆéœ€æ˜¾ç¤ºæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹å’Œå…·ä½“çš„å¤§å°ï¼‰åœ¨ç­”é¢˜æ¡†ä¾æ¬¡æäº¤ä¸Šè¿°çš„å‘½ä»¤ä»¥åŠæ‰§è¡Œç»“æœã€‚ â€‹ df -ThæŸ¥çœ‹æŒ‚è½½æƒ…å†µ é…ç½®æ§åˆ¶èŠ‚ç‚¹æœ¬åœ°yumæºæ–‡ä»¶local.repo ï¼Œæ­å»ºftpæœåŠ¡å™¨æŒ‡å‘å­˜æ”¾yumæºè·¯å¾„ï¼›é…ç½®è®¡ç®—èŠ‚ç‚¹yumæºæ–‡ä»¶ftp.repoä½¿ç”¨ä¹‹å‰é…ç½®çš„æ§åˆ¶èŠ‚ç‚¹ftpä½œä¸ºyumæºï¼Œå…¶ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹çš„åœ°å€ä½¿ç”¨ä¸»æœºåè¡¨ç¤ºã€‚ä½¿ç”¨catå‘½ä»¤æŸ¥çœ‹ä¸Šè¿°æ§åˆ¶/è®¡ç®—èŠ‚ç‚¹çš„yumæºå…¨è·¯å¾„é…ç½®æ–‡ä»¶ã€‚ä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤åŠç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ â€‹ cat /etc/yum.repos.d/a.repoæŸ¥çœ‹controller/computeçš„yumé…ç½®æ–‡ä»¶ åœ¨æ§åˆ¶èŠ‚ç‚¹å’Œè®¡ç®—èŠ‚ç‚¹åˆ†åˆ«å®‰è£…iaas-xiandianè½¯ä»¶åŒ…ï¼Œå®Œæˆé…ç½®æ–‡ä»¶ä¸­åŸºæœ¬å˜é‡çš„é…ç½®ï¼Œå¹¶æ ¹æ®æä¾›çš„å‚æ•°å®ŒæˆæŒ‡å®šå˜é‡çš„é…ç½®ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤é…ç½®æ–‡ä»¶å†…å®¹åˆ°ç­”é¢˜æ¡†ä¸­ã€‚ cat /etc/xiandian/openrc.sh |grep -v ^# |grep -v ^$æŸ¥çœ‹openrc.shç¯å¢ƒå˜é‡æ–‡ä»¶,è¿‡æ»¤ä»¥#å¼€å¤´,è¿‡æ»¤ç©ºè¡Œ Mysqlæ­å»º æ ¹æ®å¹³å°å®‰è£…æ­¥éª¤å®‰è£…è‡³æ•°æ®åº“æœåŠ¡ï¼Œä½¿ç”¨ä¸€æ¡å‘½ä»¤å®‰è£…æä¾›çš„iaas-install-mysql.shè„šæœ¬å¹¶æŸ¥çœ‹è„šæœ¬è¿è¡Œçš„æ—¶é—´ï¼ŒæŠŠå‘½ä»¤å’Œæœ€åè¾“å‡ºçš„æ—¶é—´ä¿¡æ¯æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ time iaas-install-mysql.shæŸ¥çœ‹è„šæœ¬è¿è¡Œæ—¶é—´ ä½¿ç”¨rootç”¨æˆ·ç™»å½•æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ•°æ®åº“åˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶æäº¤æ“ä½œå‘½ä»¤å’Œè¾“å‡ºç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ mysql -uroot -p000000ä½¿ç”¨rootèº«ä»½ç™»å½•mysqlï¼Œå¯†ç ä¸º000000 show databases;æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ ä½¿ç”¨rootç”¨æˆ·ç™»å½•æ•°æ®åº“ï¼Œä½¿ç”¨mysqlæ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰è¡¨çš„ä¿¡æ¯ï¼Œå¹¶æäº¤æ“ä½œå‘½ä»¤å’Œè¾“å‡ºç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ mysql -uroot -p000000ä½¿ç”¨rootèº«ä»½ç™»å½•mysqlï¼Œå¯†ç ä¸º000000 use mysql;ä½¿ç”¨mysqlåº“ show tables;æŸ¥çœ‹mysqlåº“ä¸­çš„æ‰€æœ‰è¡¨ ä½¿ç”¨rootç”¨æˆ·ç™»å½•æ•°æ®åº“ï¼Œä½¿ç”¨mysqlæ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰è¡¨çš„ä¿¡æ¯ï¼Œå¹¶æŸ¥è¯¢è¡¨userä¸­çš„hostï¼Œuserï¼Œpaasswordä¿¡æ¯ï¼Œæäº¤æ“ä½œå‘½ä»¤å’Œè¾“å‡ºç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ mysql -uroot -p000000ä½¿ç”¨rootèº«ä»½ç™»å½•mysqlï¼Œå¯†ç ä¸º000000 use mysql;ä½¿ç”¨mysqlåº“ show tables;æŸ¥çœ‹mysqlåº“ä¸­çš„æ‰€æœ‰è¡¨ select host,user,password from user;æŸ¥è¯¢userè¡¨ä¸­hostï¼Œuserï¼Œpasswordçš„æ•°æ® Keystoneæ­å»º æŒ‰è¦æ±‚å®‰è£…å®Œkeystoneè„šæœ¬åï¼Œåœ¨æ•°æ®åº“ä¸­æŸ¥è¯¢keystoneç”¨æˆ·çš„è¿œç¨‹è®¿é—®æƒé™ä¿¡æ¯ã€‚ mysql -uroot -p000000ä½¿ç”¨rootèº«ä»½ç™»å½•mysqlï¼Œå¯†ç ä¸º000000 use keystone;ä½¿ç”¨keystoneåº“ show grants for &#39;keystone&#39;@&#39;%&#39;; æŸ¥è¯¢keystoneç”¨æˆ·æ‰€æœ‰è¿œç¨‹ (show grants æŸ¥çœ‹æƒé™) åˆ—å‡ºæ•°æ®åº“keystoneä¸­æ‰€æœ‰çš„è¡¨ã€‚ use keystone;ä½¿ç”¨keystoneåº“ show tables;æŸ¥çœ‹keystoneåº“ä¸­æ‰€æœ‰è¡¨ ä½¿ç”¨openstack ç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢è§’è‰²åˆ—è¡¨ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ source /etc/xiandian/openrc.sh source /etc/keystone/admin-openrc.sh openstack role listæŸ¥çœ‹è§’è‰²åˆ—è¡¨ ä½¿ç”¨openstack ç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢adminé¡¹ç›®ä¿¡æ¯ï¼Œå°†æ“ä½œå‘½ä»¤å’Œè¾“å‡ºç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ openstack project listæŸ¥çœ‹é¡¹ç›®ä¿¡æ¯ ä½¿ç”¨openstack ç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ openstack user listæŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯ ä½¿ç”¨openstack ç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢adminç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ openstack user show adminæŸ¥çœ‹adminç”¨æˆ·ä¿¡æ¯ ä½¿ç”¨openstack ç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢æœåŠ¡åˆ—è¡¨ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ openstack service listæŸ¥çœ‹æœåŠ¡ä¿¡æ¯ ä½¿ç”¨ä¸€æ¡å‘½ä»¤å°†keystoneçš„æ•°æ®åº“å¯¼å‡ºä¸ºå½“å‰è·¯å¾„ä¸‹çš„keystone.sqlæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤æŸ¥è¯¢æ–‡ä»¶keystone.sqlçš„å¤§å°ï¼Œå°†å¯¼å‡ºå‘½ä»¤åŠæŸ¥è¯¢ç»“æœä»¥æ–‡æœ¬å½¢å¼å¡«å…¥ç­”é¢˜æ¡†ã€‚ mysqldump -uroot -p000000 keystone &gt; keystone.sqlè®²keystoneæ•°æ®åº“å¯¼å‡ºåˆ°å½“å‰ç›®å½•ï¼Œå¹¶å‘½ä»¤ä¸ºkeystone.sql du -h kestone.sql æŸ¥çœ‹å½“å‰ç›®å½•keystone.sqlæ–‡ä»¶å¤§å° Glanceæ­å»º æ ¹æ®å¹³å°å®‰è£…æ­¥éª¤å®‰è£…è‡³é•œåƒæœåŠ¡ï¼Œåœ¨æ§åˆ¶èŠ‚ç‚¹ä½¿ç”¨æä¾›çš„è„šæœ¬iaas-install-glance.shå®‰è£…glanceç»„ä»¶ã€‚ä½¿ç”¨é•œåƒæ–‡ä»¶CentOS_7.2_x86_64_XD.qcow2åˆ›å»ºglanceé•œåƒåä¸ºCentOS7.2ï¼Œæ ¼å¼ä¸ºqcow2ï¼Œå°†ä¸Šä¼ å‘½ä»¤å’Œæ‰§è¡Œç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-create --name &quot;CentOS&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repoimages/CentOS_7.2_x86_64_XD.qcow2ä¸Šä¼ é•œåƒ image-create //åˆ›å»ºé•œåƒ â€“name â€œxxâ€ åå­—ä¸ºxx disk-format //é•œåƒæ ¼å¼ container-format //å®¹å™¨æ ¼å¼ é»˜è®¤ä¸ºbare progress //æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ ä½¿ç”¨glance ç›¸å…³å‘½ä»¤æŸ¥è¯¢glanceé•œåƒåˆ—è¡¨ï¼Œå¹¶æŸ¥è¯¢CentOS7.2é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†æ“ä½œå‘½ä»¤å’Œæ‰§è¡Œç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ glance image-listæŸ¥è¯¢glanceé•œåƒ glance image-show a11e6359-35f9-4e3d-85a8-d036b48fa6a0æŸ¥è¯¢é•œåƒè¯¦ç»†ä¿¡æ¯ ä½¿ç”¨systemctl ç›¸å…³å‘½ä»¤ï¼Œåœ¨ä¸€æ¡å‘½ä»¤ä¸­æŸ¥è¯¢glanceç»„ä»¶ä¸­æ‰€æœ‰æœåŠ¡çš„çŠ¶æ€ä¿¡æ¯ï¼ŒæŸ¥è¯¢å‘½ä»¤è¿åŒå‘½ä»¤çš„æ‰§è¡Œç»“æœæäº¤åˆ°ç­”é¢˜æ¡†ã€‚ systemctl status openstack-glance*æŸ¥è¯¢å…³äºOpenStack-glanceç›¸å…³çš„æ‰€æœ‰æœåŠ¡çŠ¶æ€ Novaæ­å»º ä½¿ç”¨novaç›¸å…³å‘½ä»¤æŸ¥è¯¢è®¡ç®—èŠ‚ç‚¹è™šæ‹Ÿæœºç›‘æ§å™¨çš„çŠ¶æ€ï¼Œå°†å‘½ä»¤å’Œç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ nova hypervisor-statsæŸ¥è¯¢ç›‘æ§å™¨çŠ¶æ€ ä½¿ç”¨novaç›¸å…³å‘½ä»¤æŸ¥è¯¢novaæœåŠ¡çŠ¶æ€åˆ—è¡¨ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ nova service-listæŸ¥è¯¢æœåŠ¡åˆ—è¡¨ ä½¿ç”¨novaç›¸å…³å‘½ä»¤æŸ¥è¯¢ç½‘ç»œçš„åˆ—è¡¨ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ nova tenant-network-listæŸ¥è¯¢äº‘å¹³å°ç½‘ç»œçŠ¶æ€ ä½¿ç”¨novaç›¸å…³å‘½ä»¤æŸ¥è¯¢novaèµ„æºä½¿ç”¨æƒ…å†µçš„ä¿¡æ¯ï¼Œä»¥æ–‡æœ¬å½¢å¼æäº¤æŸ¥è¯¢å‘½ä»¤å’Œç»“æœåˆ°ç­”é¢˜æ¡†ã€‚ nova usage-listæŸ¥è¯¢äº‘å¹³å°èµ„æºä½¿ç”¨æƒ…å†µ Neutronæ­å»º ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢ç½‘ç»œæœåŠ¡çš„åˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶å·²ä¸‹å›¾çš„å½¢å¼æ‰“å°å‡ºæ¥ï¼Œå°†ç›¸åº”çš„æŸ¥è¯¢å‘½ä»¤ä»¥åŠåé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron agent-list -c binary -c agent_type -c aliveæŸ¥è¯¢ç½‘ç»œæœåŠ¡åˆ—è¡¨ä¸­çš„binary,agent_type,aliveä¿¡æ¯ ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢ç½‘ç»œæœåŠ¡çš„åˆ—è¡¨ä¿¡æ¯ä¸­çš„â€œbinaryâ€ä¸€åˆ—ï¼Œå°†æŸ¥è¯¢ä¿¡æ¯ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron agent-list -c binary æŸ¥è¯¢ç½‘ç»œæœåŠ¡åˆ—è¡¨ä¸­binaryä¿¡æ¯ ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢ç½‘ç»œæœåŠ¡DHCP agentçš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†ç›¸åº”çš„æŸ¥è¯¢å‘½ä»¤ä»¥åŠåé¦ˆç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron agent-listæŸ¥è¯¢ç½‘ç»œæœåŠ¡è¯¦ç»†ä¿¡æ¯ neutron agent-show 457e60ff-a312-49ae-b830-0ecb3cd7e9bc æŸ¥è¯¢DHCP agentè¯¦ç»†ä¿¡æ¯ ä½¿ç”¨ovs-vswitchdç®¡ç†å·¥å…·çš„ç›¸å…³å‘½ä»¤æŸ¥è¯¢è®¡ç®—èŠ‚ç‚¹çš„ç½‘æ¡¥åˆ—è¡¨ä¿¡æ¯ï¼Œå°†æŸ¥è¯¢å‘½ä»¤åŠåé¦ˆä¿¡æ¯ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ovs-vsctl list bridgeæŸ¥çœ‹è®¡ç®—èŠ‚ç‚¹ç½‘æ¡¥ä¿¡æ¯ ovs-vsctl list-bræŸ¥çœ‹ç½‘æ¡¥åˆ—è¡¨ ä½¿ç”¨ovs-vswitchdç®¡ç†å·¥å…·çš„ç›¸å…³å‘½ä»¤æŸ¥è¯¢æ§åˆ¶èŠ‚ç‚¹çš„ç½‘æ¡¥br-exçš„ç«¯å£åˆ—è¡¨ä¿¡æ¯ï¼Œå°†æŸ¥è¯¢å‘½ä»¤åŠåé¦ˆä¿¡æ¯ä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ ovs-vsctl list-ports br-exæŸ¥è¯¢æ§åˆ¶èŠ‚ç‚¹çš„ç½‘æ¡¥br-exçš„ç«¯å£åˆ—è¡¨ä¿¡æ¯ ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢æ‰€åˆ›å»ºè·¯ç”±å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†æŸ¥è¯¢å‘½ä»¤å’Œç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron router-listæŸ¥è¯¢è·¯ç”± neutron router-show 10f9a27b-f8d4-4bf3-b22d-9c9c0f44815aæŸ¥è¯¢è·¯ç”±è¯¦æƒ… ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢æ‰€åˆ›å»ºå­ç½‘çš„åˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶æŸ¥çœ‹å†…ç½‘å­ç½‘çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†æŸ¥è¯¢å‘½ä»¤å’Œç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron subnet-listæŸ¥è¯¢å­ç½‘åˆ—è¡¨ neutron subnet-show cb62dada-97c0-4ce9-891d-aa7342f0cb55æŸ¥è¯¢å†…ç½‘è¯¦æƒ… ä½¿ç”¨neutronç›¸å…³å‘½ä»¤æŸ¥è¯¢æ‰€åˆ›å»ºç½‘ç»œçš„åˆ—è¡¨ä¿¡æ¯ï¼Œå°†æŸ¥è¯¢å‘½ä»¤å’Œç»“æœä»¥æ–‡æœ¬å½¢å¼æäº¤åˆ°ç­”é¢˜æ¡†ã€‚ neutron net-listæŸ¥çœ‹ç½‘ç»œåˆ—è¡¨ Heatæ­å»º ä½¿ç”¨è„šæœ¬å®‰è£…Heat iaas-install-heat.shå®‰è£…heatæœåŠ¡ ä½¿ç”¨heatç›¸å…³å‘½ä»¤ï¼ŒæŸ¥è¯¢stackåˆ—è¡¨ï¼Œåœ¨ç­”é¢˜æ¡†ä¸­ä»¥æ–‡æœ¬å½¢å¼å¡«å…¥æŸ¥è¯¢å‘½ä»¤åŠç›¸åº”çš„åé¦ˆä¿¡æ¯ã€‚ heat stack-list æŸ¥è¯¢stackåˆ—è¡¨,æ²¡æœ‰æ˜¯æ­£å¸¸ç°è±¡ ä»è€ƒè¯•ç³»ç»Ÿé™„ä»¶ä¸‹è½½server.ymlæ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨server.ymlæ–‡ä»¶åˆ›å»ºæ ˆmystackï¼ŒæŒ‡å®šé…ç½®å‚æ•°ä¸ºé•œåƒCentOS7.2ã€ç½‘ç»œint-net2ï¼Œåœ¨ç­”é¢˜æ¡†ä¸­ä»¥æ–‡æœ¬å½¢å¼å¡«å…¥æŸ¥è¯¢å‘½ä»¤åŠç›¸åº”çš„åé¦ˆä¿¡æ¯ã€‚ server.yml heat stack-create -f server.yml -P &quot;image_name=CentOS7.2;net-name=int-net2&quot; mystackåˆ›å»ºstackæ ˆ,é•œåƒä¸ºäº‘å¹³å°é•œåƒå,ç½‘ç»œä¸ºäº‘å¹³å°å†…ç½‘ç½‘å¡å,æ ¹æ®server.ymlæ¥ä¿®æ”¹image_name,net-nameå‚æ•°,ä¾‹å¦‚æˆ‘çš„server.ymlä¸ºImageIDå’ŒNetID,æˆ‘çš„é•œåƒåä¸ºCentOS7,å†…ç½‘ä¸ºint.åˆ™å‘½ä»¤ä¸ºheat stack-create -f server.yml -P &quot;ImageID=CentOS7;NetID=int&quot; mystack heat stack-show mystackæŸ¥çœ‹mystackæ ˆè¯¦æƒ… æŸ¥è¯¢æ ˆmystackçŠ¶æ€ä¸ºCREATE_COMPLETEçš„äº‹ä»¶è¯¦ç»†ä¿¡æ¯ï¼Œåœ¨ç­”é¢˜æ¡†ä¸­ä»¥æ–‡æœ¬å½¢å¼å¡«å…¥æŸ¥è¯¢å‘½ä»¤åŠç›¸åº”çš„åé¦ˆä¿¡æ¯ã€‚ heat event-list mystackæŸ¥çœ‹mystackæ ˆçŠ¶æ€ heat event-show mystack mystack 4652fa52-275c-4edb-bb7e-d50040966c26æŸ¥çœ‹mystackæ ˆçŠ¶æ€ä¸ºCREATE_COMPLETEçš„äº‹ä»¶è¯¦ç»†ä¿¡æ¯ æŸ¥è¯¢æ ˆmystackçš„äº‹ä»¶åˆ—è¡¨ä¿¡æ¯ï¼Œåœ¨ç­”é¢˜æ¡†ä¸­ä»¥æ–‡æœ¬å½¢å¼å¡«å…¥æŸ¥è¯¢å‘½ä»¤åŠç›¸åº”çš„åé¦ˆä¿¡æ¯ã€‚ heat stack-listæŸ¥è¯¢stackåˆ—è¡¨ heat event-list mystackæŸ¥çœ‹mystackæ ˆçŠ¶æ€ Troveæ­å»º åœ¨æ§åˆ¶èŠ‚ç‚¹é…ç½®æä¾›çš„è„šæœ¬iaas-install-trove.shï¼Œä½¿å…¶è¿æ¥çš„ç½‘ç»œä¸ºint-net1ï¼Œå®‰è£…æ•°æ®åº“troveæœåŠ¡ï¼Œå®ŒæˆtroveæœåŠ¡åœ¨æ§åˆ¶èŠ‚ç‚¹çš„å®‰è£…ã€‚å®ŒæˆåæŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®åº“å®ä¾‹åˆ—è¡¨ã€‚å°†ä»¥ä¸Šæ“ä½œå‘½ä»¤åŠæ£€æŸ¥ç»“æœå¡«å…¥ç­”é¢˜æ¡†ã€‚ iaas-install-cinder-controller.shå®‰è£…cinderæœåŠ¡ iaas-install-swift-controller.shå®‰è£…swiftæœåŠ¡ iaa-install-trove.shå®‰è£…troveæœåŠ¡ åœ¨æ§åˆ¶èŠ‚ç‚¹ä¸Šä¼ æä¾›çš„MySQL_5.6_XD.qcow2åˆ°ç³»ç»Ÿå†…ï¼Œå¹¶åˆ›å»ºmysqlçš„æ•°æ®åº“å­˜å‚¨ç±»å‹ï¼Œä½¿ç”¨ä¸Šä¼ çš„é•œåƒæ›´æ–°è¯¥æ•°æ®åº“ç±»å‹çš„ç‰ˆæœ¬ä¿¡æ¯å’Œé•œåƒä¿¡æ¯ï¼Œå°†ä»¥ä¸Šæ“ä½œå‘½ä»¤åŠç»“æœå¡«å…¥ç­”é¢˜æ¡†ã€‚ ä»¥ä¸‹å‘½ä»¤åœ¨/usr/local/bin/iaas-install-trove.shæœ€åä¸ƒè¡Œæœ‰ glance image-create --name &quot;mysql-5.6&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo/images/MySQL_5.6_XD.qcow2ä¸Šä¼ MySqlé•œåƒ trove-manage datastore_update mysql &#39;&#39;æ›´æ–°æ•°æ®åº“å­˜å‚¨ç±»å‹ Glance_Image_ID=$(glance image-list | awk &#39;/ mysql-5.6 / { print $2 }&#39;) &amp;&amp; trove-manage datastore_version_update mysql mysql-5.6 mysql ${Glance_Image_ID} &#39;&#39; 1æˆªå–mysqlé•œåƒIDå¹¶å®šä¹‰å˜é‡,æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯åŠé•œåƒä¿¡æ¯ trove listæŸ¥çœ‹åˆ—è¡¨ åœ¨æ§åˆ¶èŠ‚ç‚¹æŸ¥åˆ›å»ºåç§°ä¸ºmysql-1ï¼Œå¤§å°ä¸º5Gï¼Œæ•°æ®åº“åç§°ä¸ºmyDBã€è¿œç¨‹è¿æ¥ç”¨æˆ·ä¸ºuser,å¯†ç ä¸ºr00tmeï¼Œç±»å‹ä¸ºm1.smallå®ŒæˆåæŸ¥è¯¢troveåˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶æŸ¥è¯¢mysql-1çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†ä»¥ä¸Šæ“ä½œå‘½ä»¤åŠç»“æœå¡«å…¥ç­”é¢˜æ¡†ã€‚ FLAVOR_ID=$(openstack flavor list | awk &#39;/ m1.small / { print $2 }&#39;) &amp;&amp; trove create mysql-1 ${FLAVOR_ID} --size 5 --databases myDB --users user:r00tme --datastore_version mysql-5.6 --datastore mysqlæˆªå–äº‘ä¸»æœºç±»å‹IDå¹¶å®šä¹‰å˜é‡,æ›´æ–°é•œåƒä¿¡æ¯ trove show mysql-1æŸ¥è¯¢mysql-1çš„è¯¦ç»†ä¿¡æ¯ åœ¨æ§åˆ¶èŠ‚ç‚¹æŸ¥è¯¢æ‰€æœ‰æ•°æ®çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå®ŒæˆåæŸ¥è¯¢mysqlæ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°†ä»¥ä¸Šæ“ä½œå‘½ä»¤åŠç»“æœå¡«å…¥ç­”é¢˜æ¡†ã€‚ trove datastore-listæŸ¥è¯¢mysqlè¯¦ç»†ä¿¡æ¯","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"äº‘å¹³å°","slug":"äº‘å¹³å°","permalink":"http://yoursite.com/tags/äº‘å¹³å°/"},{"name":"OpenStack","slug":"OpenStack","permalink":"http://yoursite.com/tags/OpenStack/"}]},{"title":"äº‘å¹³å°&åˆ›å»ºäº‘ä¸»æœº","slug":"äº‘å¹³å°-åˆ›å»ºäº‘ä¸»æœº","date":"2019-03-07T01:24:13.000Z","updated":"2019-03-16T05:02:30.505Z","comments":true,"path":"2019/03/07/äº‘å¹³å°-åˆ›å»ºäº‘ä¸»æœº/","link":"","permalink":"http://yoursite.com/2019/03/07/äº‘å¹³å°-åˆ›å»ºäº‘ä¸»æœº/","excerpt":"","text":"â€‹ æ ¹æ®äº‘å¹³å°æ­å»ºæˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºäº‘å¹³å°ï¼Œä¹Ÿå·²ç»é€šè¿‡controllerå†…ç½‘è®¿é—®äº†äº‘å¹³å°ç½‘é¡µæ“ä½œç•Œé¢ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡äº‘å¹³å°æ¥åˆ›å»ºäº‘ä¸»æœºäº† äº‘ä¸»æœºç±»å‹ åˆ é™¤è‡ªå¸¦æ‰€æœ‰äº‘ä¸»æœºç±»å‹ æ–°å»ºä¸€ä¸ªäº‘ä¸»æœºç±»å‹ åç§°è‡ªå®šä¹‰ æ ¹æ®å®é™…æƒ…å†µåˆ’åˆ†VCPU æ ¹æ®å®é™…æƒ…å†µåˆ’åˆ†RAM æ ¹æ®å®é™…æƒ…å†µåˆ’åˆ†ç£ç›˜ ä¾‹å¦‚ï¼š 2019-03-07 åˆ›å»ºç½‘ç»œ åˆ›å»ºå¤–ç½‘ åç§°ä¸ºgre é¡¹ç›®admin ç½‘ç»œç±»å‹gre æ®µIDä¸é‡å¤å³å¯ å‹¾é€‰å¤–éƒ¨ç½‘ç»œ ä¾‹å¦‚ /images/ScreenShot/å±å¹•å¿«ç…§ åˆ›å»ºå†…ç½‘ åç§°ä¸ºint é¡¹ç›®admin ç½‘ç»œç±»å‹gre æ®µIDä¸é‡å¤å³å¯ ä¾‹å¦‚ /images/ScreenShot/å±å¹•å¿«ç…§ åˆ›å»ºå­ç½‘ æ–°å»ºå†…ç½‘å­ç½‘ é¡¹ç›®-ç½‘ç»œ-ç½‘ç»œ-intï¼Œæ–°å»ºä¸€ä¸ªå­ç½‘ åç§°ä¸ºsub-int ç½‘ç»œåœ°å€ä¸º10.0.0.0/24 ç½‘å…³ä¸º10.0.0.1 ä¾‹å¦‚ /images/ScreenShot/å±å¹•å¿«ç…§ æ–°å»ºå¤–ç½‘å­ç½‘ é¡¹ç›®-ç½‘ç»œ-ç½‘ç»œ-greï¼Œæ–°å»ºä¸€ä¸ªå­ç½‘ åç§°ä¸ºsub-gre ç½‘ç»œåœ°å€ä¸º192.168.200.0/24 ç½‘å…³ä¸º192.168.200.1 ä¾‹å¦‚ /images/ScreenShot/å±å¹•å¿«ç…§ åˆ›å»ºè·¯ç”± æ–°å»ºè·¯ç”± åç§°ä¸ºrouteè‡ªå®šä¹‰ å¤–éƒ¨ç½‘ç»œé€‰æ‹©gre ä¾‹å¦‚ /images/ScreenShot/å±å¹•å¿«ç…§ å¢åŠ æ¥å£ åœ¨åç§°ä¸ºrouteçš„è·¯ç”±é‡Œæ·»åŠ intçš„æ¥å£ ä¾‹å¦‚ æ­¤æ—¶åœ¨ç½‘ç»œæ‹“æ‰‘é‡Œå¯ä»¥çœ‹åˆ° /images/ScreenShot/å±å¹•å¿«ç…§ ä¸€åˆ‡å‡†å¤‡å·¥ä½œå°±ç»ªä¹‹åå°±å¯ä»¥åˆ›å»ºäº‘ä¸»æœºäº†~ åˆ›å»ºäº‘ä¸»æœº åç§°è‡ªå®šä¹‰ /images/ScreenShot/å±å¹•å¿«ç…§ æ·»åŠ CentOS7çš„æº /images/ScreenShot/å±å¹•å¿«ç…§ æ·»åŠ ä¹‹å‰åˆ›å»ºçš„äº‘ä¸»æœºç±»å‹ /images/ScreenShot/å±å¹•å¿«ç…§ æ·»åŠ å†…éƒ¨ç½‘ç»œint /images/ScreenShot/å±å¹•å¿«ç…§ ç­‰å¾…å­µåŒ– /images/ScreenShot/å±å¹•å¿«ç…§ ç»‘å®šæµ®åŠ¨IP ç‚¹å‡»åŠ å·æ–°å¢ä¸€ä¸ªå¤–ç½‘ip å°†äº‘ä¸»æœºå†…ç½‘ä¸å¤–ç½‘å…³è” /images/ScreenShot/å±å¹•å¿«ç…§ æ­¤æ—¶å¯ä»¥å¯åŠ¨äº‘ä¸»æœºæ§åˆ¶å°è¿›å…¥äº‘ä¸»æœº ç®¡ç†é˜²ç«å¢™ é¡¹ç›®-è®¡ç®—-è®¿é—®&amp;å®‰å…¨-ç®¡ç†è§„åˆ™ æ·»åŠ æ‰€æœ‰UDPï¼ŒTCPï¼ŒICMPå‡ºå…¥å£ å›¾ç‰‡1 æµ‹è¯•ç”¨ç‰©ç†æœºæˆ–controllerèŠ‚ç‚¹pingäº‘ä¸»æœºip ping 192.168.200.4 ä½¿ç”¨sshè¿æ¥äº‘ä¸»æœºssh root@192.168.200.4 åç»­ï¼šäº‘ä¸»æœº.docx","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"äº‘å¹³å°","slug":"äº‘å¹³å°","permalink":"http://yoursite.com/tags/äº‘å¹³å°/"}]},{"title":"python one day","slug":"python-one-day","date":"2019-03-05T06:00:17.000Z","updated":"2019-03-16T05:02:15.655Z","comments":true,"path":"2019/03/05/python-one-day/","link":"","permalink":"http://yoursite.com/2019/03/05/python-one-day/","excerpt":"","text":"è¾“å‡ºprint (&#39;Hello World&#39;) å®šä¹‰å˜é‡ x=&#39;Hello World&#39; è¾“å‡ºprint(x) å¾—å‡ºç»“æœHello World æ ‡è¯†ç¬¦_ ä¾‹å¦‚_test=&quot;Hello World&quot; è¾“å‡ºprint(_test) å¾—å‡ºç»“æœHello World å¯¼å…¥åŒ… import keyword ifè¯­å¥ä¾‹å­ 12345test=99 //å®šä¹‰å˜é‡testä¸º99if test&lt;100: //å¦‚æœtestå°äº100 print('True') //å¦‚æœæ»¡è¶³åˆ¤æ–­åˆ™è¾“å‡ºTrueelse: //å¦‚æœä¸æ»¡è¶³åˆ¤æ–­åˆ™æ‰§è¡Œelse print('flase') //å¦‚æœtestä¸å°äº100å°±è¾“å‡ºflase if å¤šè¡Œè¯­å¥ 1234example=1+2+3+ \\ //å®šä¹‰å˜é‡exampleä¸º1+2+3+4+5(çš„æ¢è¡Œæ˜¾ç¤º) 4+ \\ 5print (example) //è¾“å‡ºå˜é‡example example","categories":[],"tags":[{"name":"Python","slug":"Python","permalink":"http://yoursite.com/tags/Python/"}]},{"title":"Hasse k680e g6d1é»‘è‹¹æœå®‰è£…è®°å½•","slug":"Hasse-k680e-g6d1é»‘è‹¹æœå®‰è£…è®°å½•","date":"2019-03-03T05:44:30.000Z","updated":"2019-03-27T03:11:24.352Z","comments":true,"path":"2019/03/03/Hasse-k680e-g6d1é»‘è‹¹æœå®‰è£…è®°å½•/","link":"","permalink":"http://yoursite.com/2019/03/03/Hasse-k680e-g6d1é»‘è‹¹æœå®‰è£…è®°å½•/","excerpt":"","text":"é…ç½®ï¼ˆå·²é©±åŠ¨ï¼‰ CPU:i5-7400 GPU:hd630 æ”¯æŒäº®åº¦è°ƒèŠ‚ GTX1050Ti å£°å¡:alc269vc ä¸‡èƒ½å£°å¡ æœ‰çº¿ç½‘å¡ æ— çº¿WiFiï¼ˆæŸå®ä¹°ä¸ªUSBç½‘å¡å°±è¡Œäº†ï¼‰ è“ç‰™Intelå†…ç½®çš„ä¸èƒ½éš”ç©ºæŠ•é€ VGA&amp;HDMIæ˜¾ç¤ºå±æ ¸æ˜¾è¾“å‡º ç”µé‡ è§¦æ‘¸æ¿ ä¸çŸ¥é“è¿˜æœ‰äº›å•¥ï¼Œï¼Œä¸€æ—¶é—´æƒ³ä¸èµ·æ¥äº† å·²çŸ¥é—®é¢˜ å¤–æ¥æ˜¾ç¤ºå™¨åœ¨å¼€æœºçŠ¶æ€æ‹”æ‰å†…å±ä¼šé»‘æ‰ å¤–æ¥æ˜¾ç¤ºå™¨åœ¨å…³æœºçŠ¶æ€è¿æ¥æ—¶å¼€æœºä¼šé»‘æ‰ 0.0 ç»¼ä¸Šã€‚ã€‚æ‹”æ‰æ˜¾ç¤ºå™¨æ—¶å¾—å…³æœºçŠ¶æ€ï¼Œè¿æ¥æ˜¾ç¤ºå™¨å¾—å¼€æœºçŠ¶æ€ï¼Œæ— å¤–æ¥æ˜¾ç¤ºå™¨å¯ä»¥æ— è§†ä»¥ä¸Š äº®åº¦é‡å¯æ¢å¤é»˜è®¤ï¼Œåªæ”¯æŒæœ€ä½äº®åº¦ï¼ˆé»‘å±ï¼‰ï¼Œå’Œæœ€é«˜äº®åº¦ è§¦æ‘¸æ¿è²Œä¼¼ä¸æ”¯æŒå¤šæŒ‡ï¼ˆå¥½åƒ æˆ‘å¯»æ€ç€åº”è¯¥æ˜¯æ²¡äº†å§ ScreenShot ç³»ç»Ÿè¯¦æƒ… å…³äºæœ¬æœº æ˜¾ç¤º è§¦æ‘¸æ¿ ä¸‡èƒ½å£°å¡é©±åŠ¨ ç½‘ç»œè¯¦æƒ… äº®åº¦è°ƒèŠ‚ æ¡Œé¢ é•œåƒä¸‹è½½&amp;ç›¸å…³æ•™ç¨‹ï¼šé»‘æœå°å…µ EFIï¼šç™¾åº¦äº‘ 3.27æ›´æ–° æ˜¨å¤©å‡çº§12.1.410.14.4ç‚¸æ‰äº†= =,å»ºè®®14.3ä½¿ç”¨æ­¤efi","categories":[],"tags":[{"name":"Hackintosh","slug":"Hackintosh","permalink":"http://yoursite.com/tags/Hackintosh/"}]},{"title":"Iass æ­å»º","slug":"Iass-æ­å»º","date":"2019-03-01T09:35:21.000Z","updated":"2019-03-16T05:01:54.054Z","comments":true,"path":"2019/03/01/Iass-æ­å»º/","link":"","permalink":"http://yoursite.com/2019/03/01/Iass-æ­å»º/","excerpt":"","text":"Iaas äº‘å¹³å°æ­å»ºè¯¦è§£1. ç»™computeèŠ‚ç‚¹åˆ†åŒºï¼š parted /dev/md126 (parted) mkpart cinder xxG xxG //xxä¸ºä»å¤šå°‘Gå¼€å§‹åˆ’åˆ†ï¼Œä¾‹å¦‚ï¼š100G 200G ã€‚100Gè¶³çŸ£ (parted) mkpart swift xxG xxG //å¯ä»¥æ¥ç€cinderçš„200G (parted) p //æ‰“å°å‡ºmd126åˆ†åŒºæƒ…å†µï¼Œè®°ä½cinderå’Œswiftå‰é¢çš„æ•°å­— å¦‚å›¾ï¼Œ/dev/md126p4åˆ™ä¸ºcinder p5åˆ™ä¸ºswift (parted) q //é€€å‡ºï¼Œæ— éœ€ä¿å­˜ åˆ†å®ŒåŒºä¹‹åå°±æ˜¯è¿›è¡Œæ ¼å¼åŒ–æ“ä½œ mkfs.xfs /dev/md126p x //xä¸ºcinderçš„åˆ†åŒºå· mkfs.xfs /dev/md126p y //yä¸ºswiftçš„åˆ†åŒºå· 2. é…ç½®controllerèŠ‚ç‚¹å’ŒcomputeèŠ‚ç‚¹çš„ç½‘ç»œå’Œä¸»æœºå ä¿®æ”¹/etc/systemctl/network-scripts/ifcfg-enp* //æ˜Ÿå·åä¸ºå†…ç½‘ç½‘å¡ ä¿®æ”¹controllerèŠ‚ç‚¹çš„ç½‘ç»œé…ç½®: 1234onboot=yesipaddr=192.168.100.10 //æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹prefix=24gateway=192.168.100.1 ä¿®æ”¹computeèŠ‚ç‚¹çš„ç½‘ç»œé…ç½®: 1234onboot=yes ipaddr=192.168.100.20 //æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹prefix=24gateway=192.168.100.1 ä¿®æ”¹controllerèŠ‚ç‚¹ä¸»æœºåhostnamectl set-hostname controller ä¿®æ”¹computeèŠ‚ç‚¹ä¸»æœºåhostnamectl set-hostname compute 3. é…ç½®controllerèŠ‚ç‚¹å’ŒcomputeèŠ‚ç‚¹çš„yumä»“åº“ åˆ é™¤centosè‡ªå¸¦çš„yumä»“åº“ rm -rf /etc/yum.repos.d/Cent-* é…ç½®controllerèŠ‚ç‚¹çš„yumä»“åº“vi /etc/yum.repos.d/iaas.repo 123456789[centos]name=centosbaseurl=file:///opt/centosgpgcheck=0[iaas]name=iaasXianDian-IaaS-v2.0-1228.iso baseurl=file:///opt/iaas-repo/iaas-repogpgcheck=0 é…ç½®computeèŠ‚ç‚¹çš„yumä»“åº“ 123456789[centos] name=centos baseurl=ftp://192.168.100.10/centos gpgcheck=0 [iaas] name=iaasXianDian-IaaS-v2.0-1228.iso baseurl=ftp://192.168.100.10iaas-repo/iaas-repo gpgcheck=0 æŒ‚è½½centoså’Œiaasé•œåƒæ–‡ä»¶ 123mkdir /opt/centos &amp;&amp; mkdir /opt/iaas-repomount CentOS-7-x86_64-DVD-1511.iso /opt/centosmount XianDian-IaaS-v2.0-1228.iso /opt/iaas-repo å¦‚å›¾å·²ç»æŒ‚è½½å¥½äº†centoså’Œiaasé•œåƒ controllerèŠ‚ç‚¹å®‰è£…ftpæœåŠ¡yum install vsftpd -y ä¿®æ”¹é…ç½®æ–‡ä»¶echo &quot;anon_root=/opt/&quot; &gt;&gt; /etc/vsftpd/vsftpd.conf å¼€å¯ftpæœåŠ¡systemctl start vsftpd è®¾ç½®å¼€æœºè‡ªå¯systemctl enable vsftpd å…³é—­é˜²ç«å¢™ï¼ˆåœ¨controllerå’Œcomputeéƒ½è¦æ‰§è¡Œï¼‰systemctl stop firewalld è®¾ç½®å¼€æœºä¸è‡ªå¯ï¼ˆåœ¨controllerå’Œcomputeéƒ½è¦æ‰§è¡Œï¼‰systemctl disable firewalld éªŒè¯yumä»“åº“æ˜¯å¦é…ç½®æˆåŠŸyum list all 4. ç¼–è¾‘iaasç¯å¢ƒå˜é‡ controllerå’Œcomputeå®‰è£…iaas-xiandian yum install iaas-xiandian -y ç¼–è¾‘/etc/xiandian/openrc.sh(æ³¨ï¼šæ ¹æ®è‡ªå·±å®é™…æƒ…å†µæ¥ä¿®æ”¹) 123456789101112131415161718192021222324252627282930313233HOST_IP=192.168.100.10HOST_NAME=controllerHOST_IP_NODE=192.168.100.20HOST_NAME_NODE=computeRABBIT_USER=openstackRABBIT_PASS=000000DB_PASS=000000DOMAIN_NAME=demo //è‡ªå®šä¹‰ADMIN_PASS=000000DEMO_PASS=000000KEYSTONE_DBPASS=000000GLANCE_DBPASS=000000GLANCE_PASS=000000NOVA_DBPASS=000000NOVA_PASS=000000NEUTRON_DBPASS=000000NEUTRON_PASS=000000METADATA_SECRET=000000INTERFACE_NAME=enp3s0f1 //æœ¬æœºå¤–ç½‘ç½‘å¡åCINDER_DBPASS=000000CINDER_PASS=000000TROVE_DBPASS=000000TROVE_PASS=000000BLOCK_DISK=md126p4 //computeèŠ‚ç‚¹çš„cinderåˆ†åŒºSWIFT_PASS=000000OBJECT_DISK=md126p5 //computeèŠ‚ç‚¹çš„swiftåˆ†åŒº STORAGE_LOCAL_NET_IP=192.168.100.20 //computeçš„å†…ç½‘IPHEAT_DBPASS=000000HEAT_PASS=000000CEILOMETER_DBPASS=000000CEILOMETER_PASS=000000AODH_DBPASS=000000AODH_PASS=000000 ä¿®æ”¹å®Œæˆåå»æ‰å‚æ•°å‰çš„æ³¨é‡Šï¼Œæ­¤å¤–è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ minå’Œmaxæ— éœ€ä¿®æ”¹ï¼Œä¹Ÿä¸ç”¨å»æ‰æ³¨é‡Š controllerèŠ‚ç‚¹ä¿®æ”¹å®Œopenrc.shä¹‹åå¯ä»¥ç›´æ¥scpåˆ°computeèŠ‚ç‚¹ scp /etc/xiandian/openrc.sh 192.168.100.20:/etc/xiandian/ å¤åˆ¶è¿‡å»ä¹‹åè¿˜è¦ä¿®æ”¹ä¸€ä¸‹computeèŠ‚ç‚¹openrc.sh INTERFACE_NAME=enp9s0 ä½¿ç”¨ifconfigå‘½ä»¤æŸ¥çœ‹å¤–ç½‘ç½‘å¡åç§° å¦‚å›¾å¯çŸ¥enp3s0f1ä¸ºå¤–ç½‘ç½‘å¡ åˆ·è„šæœ¬ing~~ ä¸¤ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œiaas-pre-host.sh è„šæœ¬æ‰§è¡Œç»“æŸåä¼šæç¤ºé‡å¯ åœ¨ä¸¤ä¸ªèŠ‚ç‚¹éƒ½ç»“æŸååŒæ—¶é‡å¯reboot controlleré€šè¿‡è„šæœ¬å®‰è£…å†…å®¹å¦‚ä¸‹ 1234567iaas-install-mysql.sh //mysqlåŒ…iaas-install-keystone.sh //keystoneæœåŠ¡iaas-install-glance.sh //glanceåŒ…iaas-install-nova-controller.sh //novaæœåŠ¡iaas-install-neutron-controller.sh //neutronæœåŠ¡iaas-install-neutron-controller-gre.sh //åˆ›å»ºgreç½‘ç»œiaas-install-dashboard.sh //å®‰è£…DashboardæœåŠ¡ computeèŠ‚ç‚¹é€šè¿‡è„šæœ¬å®‰è£…å†…å®¹å¦‚ä¸‹ 123iaas-install-nova-compute.sh //novaæœåŠ¡iaas-install-neutron-compute.sh //neutronæœåŠ¡iaas-install-neutron-compute-gre.sh //åˆ›å»ºgreç½‘ç»œ å®Œæˆä¸Šè¿°æ‰€æœ‰æ“ä½œä¹‹åå¯ä»¥ç”¨æµè§ˆå™¨è®¿é—®controllerçš„å†…ç½‘ip ä¾‹å¦‚192.168.100.10/dashboard Dashboard ä¸Šä¼ é•œåƒ source /etc/keystone/admin-openrc.sh sourceè¿™ä¸ªè„šæœ¬ glance image-create --name &quot;CentOS7&quot; --disk-format qcow2 --container-format bare --progress &lt; /opt/iaas-repo/images/CentOS_7.2_x86_64_XD.qcow2 ä¸Šä¼ é•œåƒ image-create //åˆ›å»ºé•œåƒ â€“name â€œxxâ€ åå­—ä¸ºxx disk-format //é•œåƒæ ¼å¼ container-format //å®¹å™¨æ ¼å¼ é»˜è®¤ä¸ºbare progress //æ˜¾ç¤ºä¸Šä¼ è¿›åº¦ â€‹ å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯å¯ä»¥æ”¶è—æˆ‘çš„åšå®¢å“¦ â€‹ ä¹Ÿæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ","categories":[],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"äº‘å¹³å°","slug":"äº‘å¹³å°","permalink":"http://yoursite.com/tags/äº‘å¹³å°/"}]},{"title":"DiskPart","slug":"DiskPart","date":"2019-03-01T03:52:35.000Z","updated":"2019-03-16T05:02:53.614Z","comments":true,"path":"2019/03/01/DiskPart/","link":"","permalink":"http://yoursite.com/2019/03/01/DiskPart/","excerpt":"","text":"å…³äºWindowsä¸‹Diskpartçš„æ“ä½œ List disk :æ˜¾ç¤ºç£ç›˜ List partition :æ˜¾ç¤ºåˆ†åŒº Select disk :é€‰æ‹©ç£ç›˜ Select partition :é€‰æ‹©åˆ†åŒº Remove letter=â€œç›˜ç¬¦â€ â€“","categories":[],"tags":[{"name":"Windows","slug":"Windows","permalink":"http://yoursite.com/tags/Windows/"}]}]}